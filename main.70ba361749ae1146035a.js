(()=>{"use strict";var __webpack_modules__=[(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__(1).game.start()},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>Game,game:()=>game});var _rendering_RenderManager__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_input_InputController__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),_systems_HungerSystem__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9),_systems_ActionSystem__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(36),_systems_RenderSystem__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(45),_systems_MovementSystem__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(46),_systems_UISystem__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(47),_input_MouseManager__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(48),_input_CommandManager__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(49),_screens_ScreenManager__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(55),_PlayerManager__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(60),_ecs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(37),_GameStateManager__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(61),_ClockManager__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(62),_systems_CursorSystem__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(63);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var Game=function(){function Game(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Game),this.engine=new _ecs__WEBPACK_IMPORTED_MODULE_11__.default,this.clock=new _ClockManager__WEBPACK_IMPORTED_MODULE_13__.default(this),this.renderer=new _rendering_RenderManager__WEBPACK_IMPORTED_MODULE_0__.default(this),this.state=new _GameStateManager__WEBPACK_IMPORTED_MODULE_12__.default(this),this.mouse=new _input_MouseManager__WEBPACK_IMPORTED_MODULE_7__.default(this),this.player=new _PlayerManager__WEBPACK_IMPORTED_MODULE_10__.default(this),this.screens=new _screens_ScreenManager__WEBPACK_IMPORTED_MODULE_9__.default(this),this.commands=new _input_CommandManager__WEBPACK_IMPORTED_MODULE_8__.default(this),this.input=new _input_InputController__WEBPACK_IMPORTED_MODULE_1__.default(this),this.hungerSystem=new _systems_HungerSystem__WEBPACK_IMPORTED_MODULE_2__.default(this),this.actionSystem=new _systems_ActionSystem__WEBPACK_IMPORTED_MODULE_3__.default(this),this.movementSystem=new _systems_MovementSystem__WEBPACK_IMPORTED_MODULE_5__.default(this),this.renderSystem=new _systems_RenderSystem__WEBPACK_IMPORTED_MODULE_4__.default(this),this.UISystem=new _systems_UISystem__WEBPACK_IMPORTED_MODULE_6__.default(this),this.cursor=new _systems_CursorSystem__WEBPACK_IMPORTED_MODULE_14__.default(this)}return _createClass(Game,[{key:"ecs",get:function(){return this.engine.engine}}]),_createClass(Game,[{key:"start",value:function(){this.state.newGame(),requestAnimationFrame(this.loop.bind(this))}},{key:"loop",value:function(t){this.hungerSystem.update(0),this.actionSystem.update(0),this.movementSystem.update(0),this.renderSystem.update(0),this.UISystem.update(0),this.screens.update(0),this.cursor.update(0),requestAnimationFrame(this.loop.bind(this))}}]),Game}(),game=new Game},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>Renderer});var _Manager__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),_Display__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classPrivateFieldGet(receiver,privateMap){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to get private field on non-instance");return descriptor.get?descriptor.get.call(receiver):descriptor.value}var _tileWidth=new WeakMap,_tileHeight=new WeakMap,Renderer=function(_Manager){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Renderer,_Manager);var _super=_createSuper(Renderer);function Renderer(game){var _this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Renderer),_this=_super.call(this,game),_tileWidth.set(_assertThisInitialized(_this),{writable:!0,value:16}),_tileHeight.set(_assertThisInitialized(_this),{writable:!0,value:24}),_defineProperty(_assertThisInitialized(_this),"width",64),_defineProperty(_assertThisInitialized(_this),"height",32);document.getElementById("tileset");return _this.display=new _Display__WEBPACK_IMPORTED_MODULE_1__.default({width:_this.width,height:_this.height,tileWidth:_this.tileWidth,tileHeight:_this.tileHeight}),document.body.appendChild(_this.display.canvas),_this}return _createClass(Renderer,[{key:"tileWidth",get:function(){return _classPrivateFieldGet(this,_tileWidth)}},{key:"tileHeight",get:function(){return _classPrivateFieldGet(this,_tileHeight)}},{key:"canvas",get:function(){return this.display.canvas}}]),_createClass(Renderer,[{key:"draw",value:function(x,y,_char,fg,bg){this.display.draw(x,y,_char,fg,bg)}},{key:"drawText",value:function(x,y,text){this.display.drawText(x,y,text)}},{key:"clear",value:function(){this.display.clear()}},{key:"pxToTile",value:function(xPx,yPx){return{x:Math.trunc(xPx/this.tileWidth),y:Math.trunc(yPx/this.tileHeight)}}}]),Renderer}(_Manager__WEBPACK_IMPORTED_MODULE_0__.default)},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>Manager});var _game=new WeakMap,Manager=function(){function Manager(game){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Manager),_game.set(this,{writable:!0,value:void 0}),function(receiver,privateMap,value){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to set private field on non-instance");if(descriptor.set)descriptor.set.call(receiver,value);else{if(!descriptor.writable)throw new TypeError("attempted to set read only private field");descriptor.value=value}}(this,_game,game)}return _createClass(Manager,[{key:"game",get:function(){return function(receiver,privateMap){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to get private field on non-instance");return descriptor.get?descriptor.get.call(receiver):descriptor.value}(this,_game)}}]),_createClass(Manager,[{key:"onNewGame",value:function(){}},{key:"onSaveGame",value:function(){}},{key:"onLoadGame",value:function(data){}}]),Manager}()},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _classPrivateFieldSet(receiver,privateMap,value){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to set private field on non-instance");if(descriptor.set)descriptor.set.call(receiver,value);else{if(!descriptor.writable)throw new TypeError("attempted to set read only private field");descriptor.value=value}return value}function _classPrivateFieldGet(receiver,privateMap){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to get private field on non-instance");return descriptor.get?descriptor.get.call(receiver):descriptor.value}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>Display});var _ctx=new WeakMap,_canvas=new WeakMap,_width=new WeakMap,_height=new WeakMap,_tileWidth=new WeakMap,_tileHeight=new WeakMap,_defaultFg=new WeakMap,Display=function(){function Display(_ref){var width=_ref.width,height=_ref.height,tileWidth=_ref.tileWidth,tileHeight=_ref.tileHeight,defaultFg=_ref.defaultFg;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Display),_ctx.set(this,{writable:!0,value:void 0}),_canvas.set(this,{writable:!0,value:void 0}),_width.set(this,{writable:!0,value:void 0}),_height.set(this,{writable:!0,value:void 0}),_tileWidth.set(this,{writable:!0,value:void 0}),_tileHeight.set(this,{writable:!0,value:void 0}),_defaultFg.set(this,{writable:!0,value:void 0}),_classPrivateFieldSet(this,_width,width),_classPrivateFieldSet(this,_height,height),_classPrivateFieldSet(this,_tileWidth,tileWidth),_classPrivateFieldSet(this,_tileHeight,tileHeight),_classPrivateFieldSet(this,_defaultFg,defaultFg||"#fff"),_classPrivateFieldSet(this,_canvas,document.createElement("canvas")),_classPrivateFieldSet(this,_ctx,this.canvas.getContext("2d"));var widthPx=this.tileWidth*this.width,heightPx=this.tileHeight*this.height;this.canvas.style.cssText="width: ".concat(widthPx,"px; height: ").concat(heightPx,"px"),this.canvas.width=widthPx,this.canvas.height=heightPx,this.ctx.font="".concat(_classPrivateFieldGet(this,_tileHeight),"px monospace"),this.ctx.textBaseline="top"}return _createClass(Display,[{key:"tileWidth",get:function(){return _classPrivateFieldGet(this,_tileWidth)}},{key:"tileHeight",get:function(){return _classPrivateFieldGet(this,_tileHeight)}},{key:"width",get:function(){return _classPrivateFieldGet(this,_width)}},{key:"height",get:function(){return _classPrivateFieldGet(this,_height)}},{key:"canvas",get:function(){return _classPrivateFieldGet(this,_canvas)}},{key:"ctx",get:function(){return _classPrivateFieldGet(this,_ctx)}}]),_createClass(Display,[{key:"draw",value:function(x,y,_char,fg){var bg=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"transparent";fg=fg||_classPrivateFieldGet(this,_defaultFg),"transparent"!==bg?(this.ctx.fillStyle=bg,this.ctx.fillRect(x*this.tileWidth,y*this.tileHeight,this.tileWidth,this.tileHeight)):this.clearTile(x,y),this.ctx.fillStyle=fg,this.ctx.fillText(_char,x*this.tileWidth,y*this.tileHeight)}},{key:"drawText",value:function(x,y,text,fg){var bg=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"transparent";this.ctx.fillStyle=fg||_classPrivateFieldGet(this,_defaultFg);for(var i=0;i<text.length;i++)this.draw(x+i,y,text.charAt(i),fg,bg)}},{key:"clear",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"clearTile",value:function(x,y){this.ctx.clearRect(x*this.tileWidth,y*this.tileHeight,this.tileWidth,this.tileHeight)}}]),Display}()},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>InputController});var _events_InputKeyboardEvent__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_events_InputMouseEvent__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var InputController=function(_Manager){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(InputController,_Manager);var Constructor,protoProps,staticProps,_super=_createSuper(InputController);function InputController(game){var _this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,InputController),_this=_super.call(this,game),document.addEventListener("keydown",_this.onKeydown.bind(_assertThisInitialized(_this)));var container=_this.game.renderer.canvas;return container.addEventListener("click",_this.onMouseClick.bind(_assertThisInitialized(_this))),container.addEventListener("mousemove",_this.onMouseMove.bind(_assertThisInitialized(_this))),container.addEventListener("mouseenter",_this.onMouseEnter.bind(_assertThisInitialized(_this))),container.addEventListener("mouseleave",_this.onMouseLeave.bind(_assertThisInitialized(_this))),_this}return Constructor=InputController,(protoProps=[{key:"onKeydown",value:function(e){var evt=new _events_InputKeyboardEvent__WEBPACK_IMPORTED_MODULE_0__.default({key:e.keyCode,shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey,meta:e.metaKey});e.preventDefault(),this.game.commands.onInputEvent(evt)}},{key:"onMouseClick",value:function(e){var xPx=e.offsetX,yPx=e.offsetY,_this$game$renderer$p=this.game.renderer.pxToTile(xPx,yPx),x=_this$game$renderer$p.x,y=_this$game$renderer$p.y,evt=new _events_InputMouseEvent__WEBPACK_IMPORTED_MODULE_1__.default({key:e.button,x,y,shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey,meta:e.metaKey,xPx,yPx});this.game.commands.onInputEvent(evt)}},{key:"onMouseMove",value:function(e){var xPx=e.offsetX,yPx=e.offsetY,_this$game$renderer$p2=this.game.renderer.pxToTile(xPx,yPx),x=_this$game$renderer$p2.x,y=_this$game$renderer$p2.y;this.game.mouse.updatePosition(x,y)}},{key:"onMouseEnter",value:function(e){this.game.mouse.updateMouseEnter()}},{key:"onMouseLeave",value:function(e){this.game.mouse.updateMouseLeave()}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),InputController}(__webpack_require__(3).default)},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>InputKeyboardEvent});var InputKeyboardEvent=function(_InputEvent){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(InputKeyboardEvent,_InputEvent);var _super=_createSuper(InputKeyboardEvent);function InputKeyboardEvent(){return _classCallCheck(this,InputKeyboardEvent),_super.apply(this,arguments)}return InputKeyboardEvent}(__webpack_require__(7).default)},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>InputEvent});var InputEvent=function InputEvent(data){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,InputEvent),_defineProperty(this,"key",!1),_defineProperty(this,"shift",!1),_defineProperty(this,"ctrl",!1),_defineProperty(this,"alt",!1),_defineProperty(this,"meta",!1),this.key=data.key,this.shift=data.shift,this.ctrl=data.ctrl,this.alt=data.alt,this.meta=data.meta}},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>InputMouseEvent});var InputMouseEvent=function(_InputEvent){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(InputMouseEvent,_InputEvent);var _super=_createSuper(InputMouseEvent);function InputMouseEvent(data){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,InputMouseEvent),_defineProperty(_assertThisInitialized(_this=_super.call(this,data)),"x",!1),_defineProperty(_assertThisInitialized(_this),"y",!1),_defineProperty(_assertThisInitialized(_this),"tileX",!1),_defineProperty(_assertThisInitialized(_this),"tileY",!1),_this.x=data.x,_this.y=data.y,_this.tileX=data.tileX,_this.tileY=data.tileY,_this}return InputMouseEvent}(__webpack_require__(7).default)},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>HungerSystem});var _ecs_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10),_System__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(35);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var _query=new WeakMap,HungerSystem=function(_System){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(HungerSystem,_System);var Constructor,protoProps,staticProps,_super=_createSuper(HungerSystem);function HungerSystem(game){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,HungerSystem),_this=_super.call(this,game),_query.set(_assertThisInitialized(_this),{writable:!0,value:null}),function(receiver,privateMap,value){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to set private field on non-instance");if(descriptor.set)descriptor.set.call(receiver,value);else{if(!descriptor.writable)throw new TypeError("attempted to set read only private field");descriptor.value=value}}(_assertThisInitialized(_this),_query,game.ecs.createQuery({all:[_ecs_components__WEBPACK_IMPORTED_MODULE_0__.Eater]})),_this}return Constructor=HungerSystem,(protoProps=[{key:"update",value:function(dt){var _this2=this;this.game.actionSystem.tickDelta>0&&function(receiver,privateMap){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to get private field on non-instance");return descriptor.get?descriptor.get.call(receiver):descriptor.value}(this,_query).get().forEach((function(entity){entity.eater.hunger-=_this2.game.actionSystem.tickDelta}))}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),HungerSystem}(_System__WEBPACK_IMPORTED_MODULE_1__.default)},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Actor:()=>_Actor__WEBPACK_IMPORTED_MODULE_0__.Actor,Brain:()=>_Brain__WEBPACK_IMPORTED_MODULE_1__.Brain,Goal:()=>_Goal__WEBPACK_IMPORTED_MODULE_2__.Goal,Eater:()=>_Eater__WEBPACK_IMPORTED_MODULE_3__.Eater,Moniker:()=>_Moniker__WEBPACK_IMPORTED_MODULE_4__.Moniker,Logger:()=>_Logger__WEBPACK_IMPORTED_MODULE_5__.Logger,Position:()=>_Position__WEBPACK_IMPORTED_MODULE_6__.Position,Map:()=>_Map__WEBPACK_IMPORTED_MODULE_7__.Map,MapLayer:()=>_MapLayer__WEBPACK_IMPORTED_MODULE_8__.MapLayer,Glyph:()=>_Glyph__WEBPACK_IMPORTED_MODULE_9__.Glyph,Legs:()=>_Legs__WEBPACK_IMPORTED_MODULE_10__.Legs,MoveCommand:()=>_MoveCommand__WEBPACK_IMPORTED_MODULE_11__.MoveCommand,IsPlayer:()=>_IsPlayer__WEBPACK_IMPORTED_MODULE_12__.IsPlayer,Wandering:()=>_Wandering__WEBPACK_IMPORTED_MODULE_13__.Wandering});var _Actor__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11),_Brain__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(13),_Goal__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(15),_Eater__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(23),_Moniker__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(24),_Logger__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(25),_Position__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(26),_Map__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(27),_MapLayer__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(28),_Glyph__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(29),_Legs__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(30),_MoveCommand__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(31),_IsPlayer__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(33),_Wandering__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(34)},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Actor:()=>Actor});var obj,key,value,Actor=function(_Component){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Actor,_Component);var Constructor,protoProps,staticProps,_super=_createSuper(Actor);function Actor(){return _classCallCheck(this,Actor),_super.apply(this,arguments)}return Constructor=Actor,(protoProps=[{key:"onEnergyConsumed",value:function(evt){this.reduceEnergy(evt.data)}},{key:"onTick",value:function(evt){this.addEnergy(1)}},{key:"addEnergy",value:function(value){this.energy+=value,this.energy>=0&&(this.energy=0)}},{key:"reduceEnergy",value:function(value){this.addEnergy(-1*value)}},{key:"hasEnergy",get:function(){return this.energy>=0}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Actor}(__webpack_require__(12).Component);value={energy:0},(key="properties")in(obj=Actor)?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value},(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=o[Symbol.iterator]()},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e3){didErr=!0,err=_e3},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty2(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty2(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classPrivateFieldGet(receiver,privateMap){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to get private field on non-instance");return descriptor.get?descriptor.get.call(receiver):descriptor.value}function _classPrivateFieldSet(receiver,privateMap,value){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to set private field on non-instance");if(descriptor.set)descriptor.set.call(receiver,value);else{if(!descriptor.writable)throw new TypeError("attempted to set read only private field");descriptor.value=value}return value}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Component:()=>Component,Engine:()=>Engine,Prefab:()=>Prefab});var camelCase=function(input,options){if("string"!=typeof input&&!Array.isArray(input))throw new TypeError("Expected the input to be `string | string[]`");options=_objectSpread(_objectSpread({},{pascalCase:!1}),options);var x;return 0===(input=Array.isArray(input)?input.map((function(x){return x.trim()})).filter((function(x){return x.length})).join("-"):input.trim()).length?"":1===input.length?options.pascalCase?input.toLocaleUpperCase():input.toLocaleLowerCase():(input!==input.toLocaleLowerCase()&&(input=function(string){for(var isLastCharLower=!1,isLastCharUpper=!1,isLastLastCharUpper=!1,i=0;i<string.length;i++){var character=string[i];isLastCharLower&&/(?:[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uA7BA\uA7BC\uA7BE\uA7C2\uA7C4-\uA7C7\uA7C9\uA7F5\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27\uDCB0-\uDCD3]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21])/.test(character)?(string=string.slice(0,i)+"-"+string.slice(i),isLastCharLower=!1,isLastLastCharUpper=isLastCharUpper,isLastCharUpper=!0,i++):isLastCharUpper&&isLastLastCharUpper&&/(?:[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7BB\uA7BD\uA7BF\uA7C3\uA7C8\uA7CA\uA7F6\uA7FA\uAB30-\uAB5A\uAB60-\uAB68\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD83A[\uDD22-\uDD43])/.test(character)?(string=string.slice(0,i-1)+"-"+string.slice(i-1),isLastLastCharUpper=isLastCharUpper,isLastCharUpper=!1,isLastCharLower=!0):(isLastCharLower=character.toLocaleLowerCase()===character&&character.toLocaleUpperCase()!==character,isLastLastCharUpper=isLastCharUpper,isLastCharUpper=character.toLocaleUpperCase()===character&&character.toLocaleLowerCase()!==character)}return string}(input)),input=input.replace(/^[_.\- ]+/,"").toLocaleLowerCase().replace(/[ \x2D\._]+((?:[0-9A-Z_a-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0345\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05B0-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0657\u0659-\u0669\u066E-\u06D3\u06D5-\u06DC\u06E1-\u06E8\u06ED-\u06FC\u06FF\u0710-\u073F\u074D-\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0817\u081A-\u082C\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u08D4-\u08DF\u08E3-\u08E9\u08F0-\u093B\u093D-\u094C\u094E-\u0950\u0955-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C4\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A42\u0A47\u0A48\u0A4B\u0A4C\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC5\u0AC7-\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFC\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D-\u0B44\u0B47\u0B48\u0B4B\u0B4C\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71-\u0B77\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4C\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C78-\u0C7E\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCC\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D54-\u0D63\u0D66-\u0D78\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E46\u0E4D\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F71-\u0F81\u0F88-\u0F97\u0F99-\u0FBC\u1000-\u1036\u1038\u103B-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1713\u1720-\u1733\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17B3\u17B6-\u17C8\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A61-\u1A74\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1ABF\u1AC0\u1B00-\u1B33\u1B35-\u1B43\u1B45-\u1B4B\u1B50-\u1B59\u1B80-\u1BA9\u1BAC-\u1BE5\u1BE7-\u1BF1\u1C00-\u1C36\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1DE7-\u1DF4\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2189\u2150-\u2182\u2460-\u249B\u24B6-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA674-\uA67B\uA67F-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA805\uA807-\uA827\uA830-\uA835\uA840-\uA873\uA880-\uA8C3\uA8C5\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD-\uA92A\uA930-\uA952\uA960-\uA97C\uA980-\uA9B2\uA9B4-\uA9BF\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAABE\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD27\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC45\uDC52-\uDC6F\uDC82-\uDCB8\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD32\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD72\uDD76\uDD80-\uDDBF\uDDC1-\uDDC4\uDDCE-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE34\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEE8\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D-\uDF44\uDF47\uDF48\uDF4B\uDF4C\uDF50\uDF57\uDF5D-\uDF63]|\uD805[\uDC00-\uDC41\uDC43-\uDC45\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCC1\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDBE\uDDD8-\uDDDD\uDE00-\uDE3E\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB5\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC38\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B\uDD3C\uDD3F-\uDD42\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDDF\uDDE1\uDDE3\uDDE4\uDE00-\uDE32\uDE35-\uDE3E\uDE50-\uDE97\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC3E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD41\uDD43\uDD46\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD96\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9E]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD47\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C\uDD30-\uDD49\uDD50-\uDD69\uDD70-\uDD89]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])|$)/g,(function(_,p1){return p1.toLocaleUpperCase()})).replace(/[0-9]+((?:[0-9A-Z_a-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0345\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05B0-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0657\u0659-\u0669\u066E-\u06D3\u06D5-\u06DC\u06E1-\u06E8\u06ED-\u06FC\u06FF\u0710-\u073F\u074D-\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0817\u081A-\u082C\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u08D4-\u08DF\u08E3-\u08E9\u08F0-\u093B\u093D-\u094C\u094E-\u0950\u0955-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C4\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A42\u0A47\u0A48\u0A4B\u0A4C\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC5\u0AC7-\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFC\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D-\u0B44\u0B47\u0B48\u0B4B\u0B4C\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71-\u0B77\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4C\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C78-\u0C7E\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCC\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D54-\u0D63\u0D66-\u0D78\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E46\u0E4D\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F71-\u0F81\u0F88-\u0F97\u0F99-\u0FBC\u1000-\u1036\u1038\u103B-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1713\u1720-\u1733\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17B3\u17B6-\u17C8\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A61-\u1A74\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1ABF\u1AC0\u1B00-\u1B33\u1B35-\u1B43\u1B45-\u1B4B\u1B50-\u1B59\u1B80-\u1BA9\u1BAC-\u1BE5\u1BE7-\u1BF1\u1C00-\u1C36\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1DE7-\u1DF4\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2189\u2150-\u2182\u2460-\u249B\u24B6-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA674-\uA67B\uA67F-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA805\uA807-\uA827\uA830-\uA835\uA840-\uA873\uA880-\uA8C3\uA8C5\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD-\uA92A\uA930-\uA952\uA960-\uA97C\uA980-\uA9B2\uA9B4-\uA9BF\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAABE\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD27\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC45\uDC52-\uDC6F\uDC82-\uDCB8\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD32\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD72\uDD76\uDD80-\uDDBF\uDDC1-\uDDC4\uDDCE-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE34\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEE8\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D-\uDF44\uDF47\uDF48\uDF4B\uDF4C\uDF50\uDF57\uDF5D-\uDF63]|\uD805[\uDC00-\uDC41\uDC43-\uDC45\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCC1\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDBE\uDDD8-\uDDDD\uDE00-\uDE3E\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB5\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC38\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B\uDD3C\uDD3F-\uDD42\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDDF\uDDE1\uDDE3\uDDE4\uDE00-\uDE32\uDE35-\uDE3E\uDE50-\uDE97\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC3E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD41\uDD43\uDD46\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD96\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9E]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD47\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C\uDD30-\uDD49\uDD50-\uDD69\uDD70-\uDD89]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])|$)/g,(function(m){return m.toLocaleUpperCase()})),x=input,options.pascalCase?x.charAt(0).toLocaleUpperCase()+x.slice(1):x)},camelcase=camelCase,_default=camelCase;camelcase.default=_default;var Property=function(){function Property(component){_classCallCheck(this,Property),_defineProperty(this,"component",void 0),this.component=component}return _createClass(Property,[{key:"get",value:function(){}},{key:"set",value:function(value){}},{key:"serialize",value:function(){}},{key:"onDestroyed",value:function(){}},{key:"cleanupReference",value:function(entity){}},{key:"ecs",get:function(){return this.component.ecs}},{key:"descriptor",get:function(){var _this=this;return{enumerable:!0,get:function(){return _this.get()},set:function(v){return _this.set(v)}}}}]),Property}(),SimpleProperty=function(_Property){_inherits(SimpleProperty,_Property);var _super=_createSuper(SimpleProperty);function SimpleProperty(){var _this2;_classCallCheck(this,SimpleProperty);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this2=_super.call.apply(_super,[this].concat(args))),"value",null),_this2}return _createClass(SimpleProperty,[{key:"set",value:function(value){this.value=value}},{key:"get",value:function(){return this.value}},{key:"serialize",value:function(){return this.value}}]),SimpleProperty}(Property),EntityProperty=function(_Property2){_inherits(EntityProperty,_Property2);var _super2=_createSuper(EntityProperty);function EntityProperty(){var _this3;_classCallCheck(this,EntityProperty);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return _defineProperty(_assertThisInitialized(_this3=_super2.call.apply(_super2,[this].concat(args))),"id",void 0),_this3}return _createClass(EntityProperty,[{key:"set",value:function(value){return!this.id||value&&value.id===this.id&&value===this.id||this.ecs.entities.removeRef(this.id,this),value&&value.id?(this.ecs.entities.addRef(value.id,this),void(this.id=value.id)):"string"==typeof value?(this.ecs.entities.addRef(value,this),void(this.id=value)):void(this.id=void 0)}},{key:"get",value:function(){return this.id&&this.component.ecs.getEntity(this.id)}},{key:"serialize",value:function(){return this.id}},{key:"onDestroyed",value:function(){this.id&&this.ecs.entities.removeRef(this.id,this)}},{key:"cleanupReference",value:function(entity){this.id===entity.id?this.id=void 0:console.warn('Property in unclean state. A reference to an entity "'.concat(entity.id,'" was never cleaned up.'))}}]),EntityProperty}(Property),EntityArrayProperty=function(_Property3){_inherits(EntityArrayProperty,_Property3);var _super3=_createSuper(EntityArrayProperty);function EntityArrayProperty(component){var _this4;return _classCallCheck(this,EntityArrayProperty),_defineProperty(_assertThisInitialized(_this4=_super3.call(this,component)),"proxy",[]),_this4.proxy=new Proxy([],{get:function(target,prop,receiver){return Reflect.get(target,prop,receiver)},set:function(target,prop,value,receiver){if(isNaN(prop))return Reflect.set(target,prop,value,receiver);var old=Reflect.get(target,prop,receiver);return"string"==typeof value&&(value=_this4.ecs.entities.get(value)),old&&old!=value&&_this4.ecs.entities.removeRef(value,_assertThisInitialized(_this4)),value&&value.id?(_this4.ecs.entities.addRef(value.id,_assertThisInitialized(_this4)),Reflect.set(target,prop,value,receiver)):Reflect.set(target,prop,value,receiver)},deleteProperty:function(target,prop){if(isNaN(prop))return Reflect.deleteProperty(target,prop);var value=Reflect.get(target,prop);return _this4.ecs.entities.removeRef(value,_assertThisInitialized(_this4)),Reflect.deleteProperty(target,prop)}}),_this4}return _createClass(EntityArrayProperty,[{key:"set",value:function(){for(var values=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],len=Math.max(values.length,this.proxy.length),i=0;i<len;i++)i in values?this.proxy[i]=values[i]:delete this.proxy[i];this.proxy.length=values.length}},{key:"get",value:function(){return this.proxy}},{key:"serialize",value:function(){return this.proxy.map((function(ref){return ref.id}))}},{key:"onDestroyed",value:function(){this.set([])}},{key:"cleanupReference",value:function(entity){this.set(this.proxy.filter((function(ref){return ref.id!==entity.id})))}}]),EntityArrayProperty}(Property),PropertyStrategy=function(){function PropertyStrategy(){_classCallCheck(this,PropertyStrategy)}return _createClass(PropertyStrategy,null,[{key:"create",value:function(component,value){switch(value){case"<Entity>":return new EntityProperty(component);case"<EntityArray>":return new EntityArrayProperty(component);default:return new SimpleProperty(component)}}}]),PropertyStrategy}(),Component=function(){function Component(ecs){var properties=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,Component),_entity.set(this,{writable:!0,value:null}),_ecs.set(this,{writable:!0,value:null}),_props.set(this,{writable:!0,value:{}}),_isDestroyed.set(this,{writable:!0,value:!1}),_classPrivateFieldSet(this,_ecs,ecs),this._defineProxies(properties)}return _createClass(Component,[{key:"entity",get:function(){return _classPrivateFieldGet(this,_entity)}},{key:"ecs",get:function(){return _classPrivateFieldGet(this,_ecs)}},{key:"type",get:function(){return this.constructor.name}},{key:"isAttached",get:function(){return Boolean(this.entity)}},{key:"isDestroyed",get:function(){return _classPrivateFieldGet(this,_isDestroyed)}},{key:"allowMultiple",get:function(){return this.constructor.allowMultiple}},{key:"keyProperty",get:function(){return this.constructor.keyProperty}},{key:"properties",get:function(){for(var ob={},_i=0,_Object$entries=Object.entries(_classPrivateFieldGet(this,_props));_i<_Object$entries.length;_i++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i],2),key=_Object$entries$_i[0],value=_Object$entries$_i[1];ob[key]=value.get()}return ob}},{key:"key",get:function(){return this[this.keyProperty]}}],[{key:"type",get:function(){return this.name}}]),_createClass(Component,[{key:"serialize",value:function(){return Object.entries(_classPrivateFieldGet(this,_props)).reduce((function(o,_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];return _objectSpread(_objectSpread({},o),{},_defineProperty2({},key,value.serialize()))}),{})}},{key:"_onAttached",value:function(entity){_classPrivateFieldSet(this,_entity,entity),this.ecs.queries.onComponentAdded(entity,this),this.onAttached()}},{key:"_onDetached",value:function(){if(this.isAttached){this.onDetached();var entity=_classPrivateFieldGet(this,_entity);_classPrivateFieldSet(this,_entity,null),this.ecs.queries.onComponentRemoved(entity,this)}}},{key:"_onDestroyed",value:function(){_classPrivateFieldSet(this,_isDestroyed,!0),this.onDestroyed();for(var _i2=0,_Object$values=Object.values(_classPrivateFieldGet(this,_props));_i2<_Object$values.length;_i2++){_Object$values[_i2].onDestroyed()}}},{key:"onAttached",value:function(){}},{key:"onDetached",value:function(){}},{key:"onDestroyed",value:function(){}},{key:"remove",value:function(){var destroy=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isAttached&&this.entity.remove(this),destroy&&this._onDestroyed()}},{key:"destroy",value:function(){this.remove(!0)}},{key:"clone",value:function(){return this.ecs.createComponent(this.type,this.serialize())}},{key:"_onEvent",value:function(evt){this.onEvent(evt);var handlerName=camelcase("on ".concat(evt.name));"function"==typeof this[handlerName]&&this[handlerName](evt)}},{key:"onEvent",value:function(evt){}},{key:"_defaultPropertyValue",value:function(propertyName){var value=this.constructor.properties[propertyName];return"<EntityArray>"===value?[]:"<Entity>"!==value?value:void 0}},{key:"_defineProxies",value:function(initialProperties){for(var key in this.constructor.properties){var initialValue=initialProperties.hasOwnProperty(key)?initialProperties[key]:this._defaultPropertyValue(key),property=PropertyStrategy.create(this,this.constructor.properties[key]);_classPrivateFieldGet(this,_props)[key]=property,Object.defineProperty(this,key,property.descriptor),property.set(initialValue)}}}]),Component}(),_entity=new WeakMap,_ecs=new WeakMap,_props=new WeakMap,_isDestroyed=new WeakMap;_defineProperty(Component,"allowMultiple",!1),_defineProperty(Component,"keyProperty",null),_defineProperty(Component,"properties",{});var ComponentRegistry=function(){function ComponentRegistry(ecs){_classCallCheck(this,ComponentRegistry),_nameCache.set(this,{writable:!0,value:new Map}),_definitions.set(this,{writable:!0,value:new Map}),_ecs$1.set(this,{writable:!0,value:null}),_classPrivateFieldSet(this,_ecs$1,ecs)}return _createClass(ComponentRegistry,[{key:"register",value:function(component){_classPrivateFieldGet(this,_definitions).set(component.name,component),_classPrivateFieldGet(this,_nameCache).set(component.name,camelcase(component.name))}},{key:"getAccessor",value:function(type){if(_classPrivateFieldGet(this,_nameCache).has(type))return _classPrivateFieldGet(this,_nameCache).get(type);_classPrivateFieldGet(this,_nameCache).set(type,camelcase(type))}},{key:"get",value:function(typeOrClassOrComponent){var type=this._getType(typeOrClassOrComponent);return type?_classPrivateFieldGet(this,_definitions).get(type):(console.warn("Cannot get component definition for type or class ".concat(typeOrClassOrComponent," since it is neither a Component class or type (string)")),null)}},{key:"create",value:function(typeOrClass){var properties=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},definition=this.get(typeOrClass);if(definition)return new definition(_classPrivateFieldGet(this,_ecs$1),properties);console.warn("Could not create component definition for ".concat(typeOrClass," since it is not registered"))}},{key:"_getType",value:function(typeOrClassOrComponent){return"string"==typeof typeOrClassOrComponent?typeOrClassOrComponent:typeOrClassOrComponent instanceof Component?typeOrClassOrComponent.type:typeOrClassOrComponent.prototype instanceof Component?typeOrClassOrComponent.name:null}}]),ComponentRegistry}(),_nameCache=new WeakMap,_definitions=new WeakMap,_ecs$1=new WeakMap,isMergeableObject=function(value){return function(value){return!!value&&"object"===_typeof(value)}(value)&&!function(value){var stringValue=Object.prototype.toString.call(value);return"[object RegExp]"===stringValue||"[object Date]"===stringValue||function(value){return value.$$typeof===REACT_ELEMENT_TYPE}(value)}(value)};var REACT_ELEMENT_TYPE="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function cloneUnlessOtherwiseSpecified(value,options){return!1!==options.clone&&options.isMergeableObject(value)?deepmerge((val=value,Array.isArray(val)?[]:{}),value,options):value;var val}function defaultArrayMerge(target,source,options){return target.concat(source).map((function(element){return cloneUnlessOtherwiseSpecified(element,options)}))}function getKeys(target){return Object.keys(target).concat(function(target){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(target).filter((function(symbol){return target.propertyIsEnumerable(symbol)})):[]}(target))}function propertyIsOnObject(object,property){try{return property in object}catch(_){return!1}}function mergeObject(target,source,options){var destination={};return options.isMergeableObject(target)&&getKeys(target).forEach((function(key){destination[key]=cloneUnlessOtherwiseSpecified(target[key],options)})),getKeys(source).forEach((function(key){(function(target,key){return propertyIsOnObject(target,key)&&!(Object.hasOwnProperty.call(target,key)&&Object.propertyIsEnumerable.call(target,key))})(target,key)||(propertyIsOnObject(target,key)&&options.isMergeableObject(source[key])?destination[key]=function(key,options){if(!options.customMerge)return deepmerge;var customMerge=options.customMerge(key);return"function"==typeof customMerge?customMerge:deepmerge}(key,options)(target[key],source[key],options):destination[key]=cloneUnlessOtherwiseSpecified(source[key],options))})),destination}function deepmerge(target,source,options){(options=options||{}).arrayMerge=options.arrayMerge||defaultArrayMerge,options.isMergeableObject=options.isMergeableObject||isMergeableObject,options.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var sourceIsArray=Array.isArray(source);return sourceIsArray===Array.isArray(target)?sourceIsArray?options.arrayMerge(target,source,options):mergeObject(target,source,options):cloneUnlessOtherwiseSpecified(source,options)}deepmerge.all=function(array,options){if(!Array.isArray(array))throw new Error("first argument should be an array");return array.reduce((function(prev,next){return deepmerge(prev,next,options)}),{})};var cjs=deepmerge,PrefabComponent=function(){function PrefabComponent(componentDef){var properties=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},overwrite=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];_classCallCheck(this,PrefabComponent),this.componentDef=componentDef,this.properties=properties,this.overwrite=overwrite}return _createClass(PrefabComponent,[{key:"type",get:function(){return this.componentDef.type}}]),_createClass(PrefabComponent,[{key:"applyToEntity",value:function(entity){var initialProps=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.componentDef.allowMultiple&&entity.has(this.componentDef)){if(!this.overwrite)return void console.log('Ignoring prefab component "'.concat(this.type,'" since the entity "').concat(entity.id,'" already has one.'));entity.remove(this.componentDef)}var props=cjs(this.properties,initialProps);entity.add(this.componentDef,props)}}]),PrefabComponent}(),Prefab=function(){function Prefab(ecs,name){_classCallCheck(this,Prefab),_defineProperty(this,"name",""),_defineProperty(this,"inherit",[]),_defineProperty(this,"components",[]),this.ecs=ecs,this.name=name}return _createClass(Prefab,[{key:"addComponent",value:function(prefabComponent){this.components.push(prefabComponent)}},{key:"applyToEntity",value:function(entity){var _this5=this,initialProps=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.inherit.forEach((function(parent){parent.applyToEntity(entity,initialProps)}));var arrComps={};return this.components.forEach((function(component,i){var definition=component.componentDef,accessor=_this5.ecs.components.getAccessor(definition.type),initialCompProps={};if(definition.allowMultiple)if(definition.keyProperty){var key=component.properties[definition.keyProperty];initialProps[accessor]&&initialProps[accessor][key]&&(initialCompProps=initialProps[accessor][key])}else arrComps[accessor]||(arrComps[accessor]=0),initialProps[accessor]&&initialProps[accessor][arrComps[accessor]]&&(initialCompProps=initialProps[accessor][arrComps[accessor]]),arrComps[accessor]++;else initialCompProps=initialProps[accessor];component.applyToEntity(entity,initialCompProps)})),entity}}]),Prefab}(),PrefabRegistry=function(){function PrefabRegistry(ecs){_classCallCheck(this,PrefabRegistry),_prefabs.set(this,{writable:!0,value:{}}),_ecs$2.set(this,{writable:!0,value:null}),_classPrivateFieldSet(this,_ecs$2,ecs)}return _createClass(PrefabRegistry,[{key:"deserialize",value:function(data){var _this6=this,registered=this.get(data.name);if(registered)return registered;var inherit,prefab=new Prefab(_classPrivateFieldGet(this,_ecs$2),data.name);inherit=Array.isArray(data.inherit)?data.inherit:"string"==typeof data.inherit?[data.inherit]:[],prefab.inherit=inherit.map((function(parent){var ref=_this6.get(parent);return ref||(console.warn('Prefab "'.concat(data.name,'" cannot inherit from Prefab "').concat(parent,'" because is not registered yet! Prefabs must be registered in the right order.')),parent)}));var _step,_iterator=_createForOfIteratorHelper(data.components||[]);try{for(_iterator.s();!(_step=_iterator.n()).done;){var componentData=_step.value;if("string"==typeof componentData||componentData.prototype instanceof Component){var def=_classPrivateFieldGet(this,_ecs$2).components.get(componentData);def&&prefab.addComponent(new PrefabComponent(def))}else if("object"===_typeof(componentData)){var type=componentData.type,_def=_classPrivateFieldGet(this,_ecs$2).components.get(type);_def&&prefab.addComponent(new PrefabComponent(_def,componentData.properties,componentData.overwrite))}else console.warn('Unrecognized component reference "'.concat(componentData,'" in prefab "').concat(data.name,'". Ensure the component is registered before the prefab.'))}}catch(err){_iterator.e(err)}finally{_iterator.f()}return this.register(prefab),prefab}},{key:"register",value:function(prefab){_classPrivateFieldGet(this,_prefabs)[prefab.name]=prefab}},{key:"get",value:function(nameOrClassOrPrefab){var name=PrefabRegistry._getName(nameOrClassOrPrefab);return _classPrivateFieldGet(this,_prefabs)[name]}},{key:"create",value:function(nameOrClass){var initialProps=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},prefab=this.get(nameOrClass);if(prefab){var entity=_classPrivateFieldGet(this,_ecs$2).createEntity();return prefab.applyToEntity(entity,initialProps),entity}console.warn("Could not instantiate prefab for ".concat(nameOrClass," since it is not registered"))}}],[{key:"_getName",value:function(nameOrClassOrPrefab){return"string"==typeof nameOrClassOrPrefab?nameOrClassOrPrefab:nameOrClassOrPrefab instanceof Prefab||nameOrClassOrPrefab.prototype instanceof Prefab?nameOrClassOrPrefab.name:null}}]),PrefabRegistry}(),_prefabs=new WeakMap,_ecs$2=new WeakMap,urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",EntityEvent=function(){function EntityEvent(name){var data=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,EntityEvent),_defineProperty(this,"data",{}),_prevented.set(this,{writable:!0,value:!1}),_handled.set(this,{writable:!0,value:!1}),this.name=name,this.data=data}return _createClass(EntityEvent,[{key:"prevented",get:function(){return _classPrivateFieldGet(this,_prevented)}},{key:"handled",get:function(){return _classPrivateFieldGet(this,_handled)}}]),_createClass(EntityEvent,[{key:"is",value:function(name){return this.name===name}},{key:"handle",value:function(){_classPrivateFieldSet(this,_handled,!0),_classPrivateFieldSet(this,_prevented,!0)}},{key:"prevent",value:function(){_classPrivateFieldSet(this,_prevented,!0)}}]),EntityEvent}(),_prevented=new WeakMap,_handled=new WeakMap,Entity=function(){function Entity(ecs){var id=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_classCallCheck(this,Entity),_id.set(this,{writable:!0,value:null}),_components.set(this,{writable:!0,value:{}}),_ecs$3.set(this,{writable:!0,value:null}),_isDestroyed$1.set(this,{writable:!0,value:!1}),_classPrivateFieldSet(this,_ecs$3,ecs),_classPrivateFieldSet(this,_id,id||ecs.generateId()),Object.defineProperty(this,"id",{value:_classPrivateFieldGet(this,_id),enumerable:!0,writable:!1})}return _createClass(Entity,[{key:"ecs",get:function(){return _classPrivateFieldGet(this,_ecs$3)}},{key:"components",get:function(){return _classPrivateFieldGet(this,_components)}},{key:"isDestroyed",get:function(){return _classPrivateFieldGet(this,_isDestroyed$1)}}]),_createClass(Entity,[{key:"has",value:function(typeOrClass){var key=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,type=this.ecs.components._getType(typeOrClass),accessor=this.ecs.components.getAccessor(type),hasType=this.hasOwnProperty(accessor);return hasType&&key?this[accessor].hasOwnProperty(key):hasType}},{key:"get",value:function(typeOrClass){var key=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,type=this.ecs.components._getType(typeOrClass),accessor=this.ecs.components.getAccessor(type),components=this[accessor];return components&&key?components[key]:components}},{key:"destroy",value:function(){_classPrivateFieldSet(this,_isDestroyed$1,!0);for(var _i3=0,_Object$values2=Object.values(this.components);_i3<_Object$values2.length;_i3++){var component=_Object$values2[_i3];if(component instanceof Component)component.destroy();else for(var _i4=0,_Object$values3=Object.values(component);_i4<_Object$values3.length;_i4++){_Object$values3[_i4].destroy()}}this.ecs.entities.onEntityDestroyed(this)}},{key:"add",value:function(typeOrClass){var properties=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},component=this.ecs.components.create(typeOrClass,properties);return component?this.attach(component):(console.warn('"'.concat(typeOrClass,'" component cannot be added, since it is not registered.')),!1)}},{key:"attach",value:function(component){var accessor=this.ecs.components.getAccessor(component.type);return component.allowMultiple?component.keyProperty?component.key?(this.components[accessor]||(this.components[accessor]={},Object.defineProperty(this,accessor,{configurable:!0,enumerable:!0,get:function(){return this.components[accessor]}})),this.components[accessor][component.key]=component,component._onAttached(this),this.ecs.queries.onComponentAdded(this,component),!0):(console.warn('"'.concat(component.type,'" component has a falsy key of "').concat(component.key,'". The keyProperty is set to "').concat(component.keyProperty,'".')),!1):(this.components[accessor]||(this.components[accessor]=[],Object.defineProperty(this,accessor,{configurable:!0,enumerable:!0,get:function(){return this.components[accessor]}})),this.components[accessor].push(component),component._onAttached(this),this.ecs.queries.onComponentAdded(this),!0):this.has(component.type)?(console.warn('"'.concat(component.type,'" component has allowMultiple set to ').concat(component.allowMultiple,'. Trying to add a "').concat(component.type,'" component to an entity which already has one.')),!1):(this.components[accessor]=component,Object.defineProperty(this,accessor,{enumerable:!0,configurable:!0,get:function(){return this.components[accessor]}}),component._onAttached(this),this.ecs.queries.onComponentAdded(this),!0)}},{key:"owns",value:function(component){return component.entity===this}},{key:"remove",value:function(typeOrClassOrComponent){var key=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,isComponent=typeOrClassOrComponent instanceof Component;key=isComponent?typeOrClassOrComponent.key:key;var definition=this.ecs.components.get(typeOrClassOrComponent),accessor=this.ecs.components.getAccessor(definition.type);if(definition.allowMultiple){if(!definition.keyProperty){if(!isComponent){var _step2,_iterator2=_createForOfIteratorHelper(this.components[accessor]);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var instance=_step2.value;instance._onDetached()}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return delete this[accessor],delete this.components[accessor],this.ecs.queries.onComponentRemoved(this),!0}var _all=this.components[accessor];if(!_all)return void console.warn('Trying to remove a "'.concat(definition.type,"\" component from an entity, but it wasn't found."));var index=_all.indexOf(typeOrClassOrComponent);if(index>-1)return _all.splice(index,1),typeOrClassOrComponent._onDetached(),0===_all.length&&(delete this[accessor],delete this.components[accessor]),this.ecs.queries.onComponentRemoved(this),!0}if(!key)return void console.warn('Trying to remove a "'.concat(definition.type,'" component which allows multiple without specifying an key.'));var all=this.components[accessor],component=all[key];return component?(delete all[key],component._onDetached(),Object.keys(all).length<=0&&(delete this[accessor],delete this.components[accessor]),this.ecs.queries.onComponentRemoved(this),component):void console.warn('Trying to remove a "'.concat(definition.type,'" component from an entity at "').concat(key,"\", but it wasn't found."))}if(accessor in this){var _component=this.components[accessor];return delete this[accessor],delete this.components[accessor],_component._onDetached(),this.ecs.queries.onComponentRemoved(this),_component}console.warn('Trying to remove a "'.concat(definition.type,"\" component from an entity, but it wasn't found."))}},{key:"serialize",value:function(){return Object.entries(this.components).reduce((function(o,_ref3){var _ref4=_slicedToArray(_ref3,2),key=_ref4[0],value=_ref4[1];return value instanceof Component?_objectSpread(_objectSpread({},o),{},_defineProperty2({},key,value.serialize())):Array.isArray(value)?_objectSpread(_objectSpread({},o),{},_defineProperty2({},key,value.map((function(v){return v.serialize()})))):_objectSpread(_objectSpread({},o),{},_defineProperty2({},key,Object.entries(value).reduce((function(o2,_ref5){var _ref6=_slicedToArray(_ref5,2),k2=_ref6[0],v2=_ref6[1];return _objectSpread(_objectSpread({},o2),{},_defineProperty2({},k2,v2.serialize()))}),{})))}),{id:this.id})}},{key:"fireEvent",value:function(name,data){for(var evt=new EntityEvent(name,data),_i5=0,_Object$values4=Object.values(this.components);_i5<_Object$values4.length;_i5++){var component=_Object$values4[_i5];if(component instanceof Component){if(component._onEvent(evt),evt.prevented)return evt}else for(var _i6=0,_Object$values5=Object.values(component);_i6<_Object$values5.length;_i6++){if(_Object$values5[_i6]._onEvent(evt),evt.prevented)return evt}}return evt}}]),Entity}(),_id=new WeakMap,_components=new WeakMap,_ecs$3=new WeakMap,_isDestroyed$1=new WeakMap,EntityRegistry=function(){function EntityRegistry(ecs){_classCallCheck(this,EntityRegistry),_entities.set(this,{writable:!0,value:new Map}),_ecs$4.set(this,{writable:!0,value:null}),_refs.set(this,{writable:!0,value:new Map}),_classPrivateFieldSet(this,_ecs$4,ecs)}return _createClass(EntityRegistry,[{key:"register",value:function(entity){return _classPrivateFieldGet(this,_entities).set(entity.id,entity),entity}},{key:"get",value:function(id){return _classPrivateFieldGet(this,_entities).get(id)}},{key:"createOrGetById",value:function(id){var entity=this.get(id);return entity||this.create(id)}},{key:"create",value:function(){var id=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,entity=new Entity(_classPrivateFieldGet(this,_ecs$4),id);return this.register(entity),_classPrivateFieldGet(this,_ecs$4).queries.onEntityCreated(entity),entity}},{key:"destroy",value:function(entity){entity.destroy()}},{key:"onEntityDestroyed",value:function(entity){this.cleanupRefs(entity),_classPrivateFieldGet(this,_entities).delete(entity.id),_classPrivateFieldGet(this,_ecs$4).queries.onEntityDestroyed(entity)}},{key:"cleanupRefs",value:function(entity){var refs=_classPrivateFieldGet(this,_refs).get(entity.id);if(refs){var _step3,_iterator3=_createForOfIteratorHelper(refs);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){_step3.value.cleanupReference(entity)}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}delete _classPrivateFieldGet(this,_refs)[entity.id]}}},{key:"addRef",value:function(entityId,property){_classPrivateFieldGet(this,_refs).has(entityId)?_classPrivateFieldGet(this,_refs).get(entityId).add(property):_classPrivateFieldGet(this,_refs).set(entityId,new Set([property]))}},{key:"removeRef",value:function(entityId,property){_classPrivateFieldGet(this,_refs).has(entityId)&&_classPrivateFieldGet(this,_refs).get(entityId).delete(property)}},{key:"serialize",value:function(){var json=[];return _classPrivateFieldGet(this,_entities).forEach((function(entity){json.push(entity.serialize())})),json}},{key:"deserialize",value:function(data){var _step4,_iterator4=_createForOfIteratorHelper(data.entities);try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var entityData=_step4.value;this.createOrGetById(entityData.id)}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}var _step5,_iterator5=_createForOfIteratorHelper(data.entities);try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var _entityData=_step5.value;this.deserializeEntity(_entityData)}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}}},{key:"deserializeEntity",value:function(data){var _this7=this,id=data.id,componentData=_objectWithoutProperties(data,["id"]),entity=this.createOrGetById(id);Object.entries(componentData).forEach((function(_ref7){var _ref8=_slicedToArray(_ref7,2),key=_ref8[0],value=_ref8[1],type=camelcase(key,{pascalCase:!0}),definition=_classPrivateFieldGet(_this7,_ecs$4).components.get(type);definition.allowMultiple?Object.values(value).forEach((function(d){entity.add(definition,d)})):entity.add(definition,value)}))}},{key:"all",get:function(){return _classPrivateFieldGet(this,_entities).values()}}]),EntityRegistry}(),_entities=new WeakMap,_ecs$4=new WeakMap,_refs=new WeakMap,Query=function(){function Query(ecs){var filter=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,Query),_ecs$5.set(this,{writable:!0,value:void 0}),_filter.set(this,{writable:!0,value:void 0}),_cache.set(this,{writable:!0,value:new Set}),_classPrivateFieldSet(this,_ecs$5,ecs),_classPrivateFieldSet(this,_filter,cjs({any:[],all:[],none:[]},filter)),this.bustCache()}return _createClass(Query,[{key:"isMatch",value:function(entity){var hasAny=!_classPrivateFieldGet(this,_filter).any.length||_classPrivateFieldGet(this,_filter).any.some((function(c){return entity.has(c)})),hasAll=_classPrivateFieldGet(this,_filter).all.every((function(c){return entity.has(c)})),hasNone=!_classPrivateFieldGet(this,_filter).none.some((function(c){return entity.has(c)}));return hasAny&&hasAll&&hasNone}},{key:"candidate",value:function(entity){return this.isMatch(entity)?(_classPrivateFieldGet(this,_cache).add(entity),!0):(_classPrivateFieldGet(this,_cache).delete(entity),!1)}},{key:"_onEntityCreated",value:function(entity){this.candidate(entity)}},{key:"_onComponentAdded",value:function(entity){this.candidate(entity)}},{key:"_onComponentRemoved",value:function(entity){this.candidate(entity)}},{key:"_onEntityDestroyed",value:function(entity){_classPrivateFieldGet(this,_cache).delete(entity)}},{key:"bustCache",value:function(){_classPrivateFieldGet(this,_cache).clear();var _step6,_iterator6=_createForOfIteratorHelper(_classPrivateFieldGet(this,_ecs$5).entities.all);try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var entity=_step6.value;this.candidate(entity)}}catch(err){_iterator6.e(err)}finally{_iterator6.f()}return _classPrivateFieldGet(this,_cache)}},{key:"get",value:function(){return _classPrivateFieldGet(this,_cache)}}]),Query}(),_ecs$5=new WeakMap,_filter=new WeakMap,_cache=new WeakMap,QueryRegistry=function(){function QueryRegistry(ecs){_classCallCheck(this,QueryRegistry),_ecs$6.set(this,{writable:!0,value:void 0}),_queries.set(this,{writable:!0,value:[]}),_classPrivateFieldSet(this,_ecs$6,ecs)}return _createClass(QueryRegistry,[{key:"create",value:function(filters){var query=new Query(_classPrivateFieldGet(this,_ecs$6),filters);return _classPrivateFieldGet(this,_queries).push(query),query}},{key:"onComponentAdded",value:function(entity){_classPrivateFieldGet(this,_queries).forEach((function(query){return query._onComponentAdded(entity)}))}},{key:"onComponentRemoved",value:function(entity){_classPrivateFieldGet(this,_queries).forEach((function(query){return query._onComponentRemoved(entity)}))}},{key:"onEntityCreated",value:function(entity){_classPrivateFieldGet(this,_queries).forEach((function(query){return query._onEntityCreated(entity)}))}},{key:"onEntityDestroyed",value:function(entity){_classPrivateFieldGet(this,_queries).forEach((function(query){return query._onEntityDestroyed(entity)}))}}]),QueryRegistry}(),_ecs$6=new WeakMap,_queries=new WeakMap,Engine=function(){function Engine(){_classCallCheck(this,Engine),this.idGenerator=function(){return function(){for(var id="",i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;i--;)id+=urlAlphabet[64*Math.random()|0];return id}()},this.components=new ComponentRegistry(this),this.prefabs=new PrefabRegistry(this),this.entities=new EntityRegistry(this),this.queries=new QueryRegistry(this)}return _createClass(Engine,[{key:"generateId",value:function(){return this.idGenerator()}},{key:"createEntity",value:function(){return this.entities.create()}},{key:"createPrefab",value:function(nameOrClass){var initialProps=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.prefabs.create(nameOrClass,initialProps)}},{key:"destroyEntity",value:function(entity){return this.entities.destroy(entity)}},{key:"registerPrefab",value:function(data){this.prefabs.deserialize(data)}},{key:"registerComponent",value:function(component){this.components.register(component)}},{key:"getEntity",value:function(id){return this.entities.get(id)}},{key:"createComponent",value:function(type,properties){return this.components.create(type,properties)}},{key:"createQuery",value:function(filters){return this.queries.create(filters)}},{key:"serialize",value:function(){return{entities:this.entities.serialize()}}},{key:"deserialize",value:function(data){return data.id?this.entities.deserializeEntity(data):this.entities.deserialize(data)}}]),Engine}()},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Brain:()=>Brain});var geotic__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12),_ai_GoalActionResult__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var obj,key,value,Brain=function(_Component){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Brain,_Component);var Constructor,protoProps,staticProps,_super=_createSuper(Brain);function Brain(){return _classCallCheck(this,Brain),_super.apply(this,arguments)}return Constructor=Brain,(protoProps=[{key:"onTakeAction",value:function(evt){for(;this.peekGoal()&&this.peekGoal().isFinished();)this.popGoal().entity.destroy();var currentGoal=this.peekGoal(),result=currentGoal.takeAction();result===_ai_GoalActionResult__WEBPACK_IMPORTED_MODULE_1__.FAILURE?this.removeGoal(currentGoal):result===_ai_GoalActionResult__WEBPACK_IMPORTED_MODULE_1__.INVALID&&(this.removeGoal(currentGoal),this.entity.fireEvent("take-action")),evt.handle()}},{key:"removeGoal",value:function(goal){var goalsToDestroy=[];this.goals=this.goals.filter((function(g){var isSelf=Boolean(g.id===goal.entity.id),isSiblingGoal=Boolean(g.goal.originalIntent&&g.goal.originalIntent.id===goal.originalIntent.id);return!isSelf&&!isSiblingGoal||(goalsToDestroy.push(g.goal),!1)})),goalsToDestroy.forEach((function(g){return g.entity.destroy()}))}},{key:"pushGoal",value:function(goal){if(!(goal instanceof geotic__WEBPACK_IMPORTED_MODULE_0__.Component))throw new Error("Pushing non-component goal!",goal);return goal.parent=this.entity,this.goals.push(goal.entity)}},{key:"popGoal",value:function(){return this.goals.pop().goal}},{key:"peekGoal",value:function(){return this.goals[this.goals.length-1].goal}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Brain}(geotic__WEBPACK_IMPORTED_MODULE_0__.Component);value={goals:"<EntityArray>"},(key="properties")in(obj=Brain)?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SUCCESS:()=>SUCCESS,FAILURE:()=>FAILURE,INVALID:()=>INVALID});var SUCCESS="SUCCESS",FAILURE="FAILURE",INVALID="INVALID"},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Goal:()=>Goal});var geotic__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12),_ai_GoalEvaluator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(16);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var obj,key,value,Goal=function(_Component){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Goal,_Component);var Constructor,protoProps,staticProps,_super=_createSuper(Goal);function Goal(){return _classCallCheck(this,Goal),_super.apply(this,arguments)}return Constructor=Goal,(protoProps=[{key:"isFinished",value:function(){return _ai_GoalEvaluator__WEBPACK_IMPORTED_MODULE_1__.isFinished(this.parent,this)}},{key:"takeAction",value:function(){return _ai_GoalEvaluator__WEBPACK_IMPORTED_MODULE_1__.takeAction(this.parent,this)}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Goal}(geotic__WEBPACK_IMPORTED_MODULE_0__.Component);value={name:"Bored",originalIntent:"<Entity>",parent:"<Entity>",target:"<Entity>",complete:!1,data:{}},(key="properties")in(obj=Goal)?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{isFinished:()=>isFinished,takeAction:()=>takeAction});var _GoalTypes__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(17),goalTypeMap={};Object.values(_GoalTypes__WEBPACK_IMPORTED_MODULE_0__).forEach((function(goalType){goalTypeMap[goalType.name]=goalType}));var getGoalType=function(name){var type=goalTypeMap[name];return type||console.warn("GoalType (".concat(name,") not found!")),type},isFinished=function(entity,goal){return getGoalType(goal.name).isFinished(entity,goal)},takeAction=function(entity,goal){return getGoalType(goal.name).takeAction(entity,goal)}},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BoredGoalType:()=>_BoredGoalType__WEBPACK_IMPORTED_MODULE_0__.BoredGoalType,EatFoodGoalType:()=>_EatFoodGoalType__WEBPACK_IMPORTED_MODULE_1__.EatFoodGoalType,SatisfyHungerGoalType:()=>_SatisfyHungerGoalType__WEBPACK_IMPORTED_MODULE_2__.SatisfyHungerGoalType,MoveGoalType:()=>_MoveGoalType__WEBPACK_IMPORTED_MODULE_3__.MoveGoalType});var _BoredGoalType__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(18),_EatFoodGoalType__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(20),_SatisfyHungerGoalType__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(21),_MoveGoalType__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(22)},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BoredGoalType:()=>BoredGoalType});var _GoalType__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(19),_GoalActionResult__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var BoredGoalType=function(_GoalType){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(BoredGoalType,_GoalType);var _super=_createSuper(BoredGoalType);function BoredGoalType(){return _classCallCheck(this,BoredGoalType),_super.apply(this,arguments)}return BoredGoalType}(_GoalType__WEBPACK_IMPORTED_MODULE_0__.GoalType);_defineProperty(BoredGoalType,"name","Bored"),_defineProperty(BoredGoalType,"isFinished",(function(entity,goal){return!1})),_defineProperty(BoredGoalType,"takeAction",(function(entity,goal){var evt=entity.fireEvent("boredom");return evt.data.goal?(entity.brain.pushGoal(evt.data.goal),entity.fireEvent("take-action"),_GoalActionResult__WEBPACK_IMPORTED_MODULE_1__.SUCCESS):(entity.fireEvent("consume-energy",1e3),_GoalActionResult__WEBPACK_IMPORTED_MODULE_1__.SUCCESS)}))},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{GoalType:()=>GoalType});var _GoalActionResult__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14),_core_Game__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var GoalType=function(){function GoalType(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,GoalType)}var Constructor,protoProps,staticProps;return Constructor=GoalType,staticProps=[{key:"isFinished",value:function(entity,goal){return!1}},{key:"takeAction",value:function(entity,goal){return _GoalActionResult__WEBPACK_IMPORTED_MODULE_0__.FAILURE}},{key:"createAsSubGoal",value:function(originalIntent){var properties=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.create(_objectSpread(_objectSpread({},properties),{},{originalIntent:originalIntent.entity.id}))}},{key:"create",value:function(){var properties=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _core_Game__WEBPACK_IMPORTED_MODULE_1__.game.ecs.createPrefab("Goal",{goal:_objectSpread({name:this.name},properties)}).goal}}],(protoProps=null)&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),GoalType}();_defineProperty(GoalType,"name","Unknown")},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{EatFoodGoalType:()=>EatFoodGoalType});var _GoalType__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(19),_GoalActionResult__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var EatFoodGoalType=function(_GoalType){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(EatFoodGoalType,_GoalType);var _super=_createSuper(EatFoodGoalType);function EatFoodGoalType(){return _classCallCheck(this,EatFoodGoalType),_super.apply(this,arguments)}return EatFoodGoalType}(_GoalType__WEBPACK_IMPORTED_MODULE_0__.GoalType);_defineProperty(EatFoodGoalType,"name","EatFood"),_defineProperty(EatFoodGoalType,"isFinished",(function(entity,goal){return goal.complete})),_defineProperty(EatFoodGoalType,"takeAction",(function(entity,goal){return entity.fireEvent("try-eat-food",{food:1e4}).handled?(goal.complete=!0,_GoalActionResult__WEBPACK_IMPORTED_MODULE_1__.SUCCESS):_GoalActionResult__WEBPACK_IMPORTED_MODULE_1__.FAILURE}))},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SatisfyHungerGoalType:()=>SatisfyHungerGoalType});var _GoalType__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(19),_EatFoodGoalType__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(20),_GoalActionResult__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(14);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var SatisfyHungerGoalType=function(_GoalType){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(SatisfyHungerGoalType,_GoalType);var _super=_createSuper(SatisfyHungerGoalType);function SatisfyHungerGoalType(){return _classCallCheck(this,SatisfyHungerGoalType),_super.apply(this,arguments)}return SatisfyHungerGoalType}(_GoalType__WEBPACK_IMPORTED_MODULE_0__.GoalType);_defineProperty(SatisfyHungerGoalType,"name","SatisfyHunger"),_defineProperty(SatisfyHungerGoalType,"isFinished",(function(entity,goal){return!entity.eater.isHungry})),_defineProperty(SatisfyHungerGoalType,"takeAction",(function(entity,goal){return entity.brain.pushGoal(_EatFoodGoalType__WEBPACK_IMPORTED_MODULE_1__.EatFoodGoalType.createAsSubGoal(goal)),entity.brain.pushGoal(_EatFoodGoalType__WEBPACK_IMPORTED_MODULE_1__.EatFoodGoalType.createAsSubGoal(goal)),entity.fireEvent("take-action"),_GoalActionResult__WEBPACK_IMPORTED_MODULE_2__.SUCCESS}))},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MoveGoalType:()=>MoveGoalType});var _GoalType__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(19),_GoalActionResult__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var MoveGoalType=function(_GoalType){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(MoveGoalType,_GoalType);var _super=_createSuper(MoveGoalType);function MoveGoalType(){return _classCallCheck(this,MoveGoalType),_super.apply(this,arguments)}return MoveGoalType}(_GoalType__WEBPACK_IMPORTED_MODULE_0__.GoalType);_defineProperty(MoveGoalType,"name","Move"),_defineProperty(MoveGoalType,"isFinished",(function(entity,goal){return goal.complete})),_defineProperty(MoveGoalType,"takeAction",(function(entity,goal){return entity.fireEvent("try-move",{x:goal.data.x,y:goal.data.y}).handled?(goal.complete=!0,_GoalActionResult__WEBPACK_IMPORTED_MODULE_1__.SUCCESS):_GoalActionResult__WEBPACK_IMPORTED_MODULE_1__.FAILURE}))},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Eater:()=>Eater});var geotic__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12),_ai_GoalTypes__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(17);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var obj,key,value,Eater=function(_Component){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Eater,_Component);var Constructor,protoProps,staticProps,_super=_createSuper(Eater);function Eater(){return _classCallCheck(this,Eater),_super.apply(this,arguments)}return Constructor=Eater,(protoProps=[{key:"onBoredom",value:function(evt){this.isHungry&&(evt.data.goal=_ai_GoalTypes__WEBPACK_IMPORTED_MODULE_1__.SatisfyHungerGoalType.create(),evt.handle())}},{key:"onTryEatFood",value:function(evt){Math.random()<.75?(this.entity.fireEvent("log","eats some food"),this.hunger+=evt.data.food,this.entity.fireEvent("energy-consumed",150),evt.handle()):this.entity.fireEvent("log","fails to eat the food")}},{key:"isHungry",get:function(){return this.hunger<=3e3}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Eater}(geotic__WEBPACK_IMPORTED_MODULE_0__.Component);value={hunger:6e3},(key="properties")in(obj=Eater)?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Moniker:()=>Moniker});var obj,key,value,Moniker=function(_Component){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Moniker,_Component);var _super=_createSuper(Moniker);function Moniker(){return _classCallCheck(this,Moniker),_super.apply(this,arguments)}return Moniker}(__webpack_require__(12).Component);value={name:"Unknown"},(key="properties")in(obj=Moniker)?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Logger:()=>Logger});var geotic__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12),_Moniker__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(24);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Logger=function(_Component){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Logger,_Component);var Constructor,protoProps,staticProps,_super=_createSuper(Logger);function Logger(){return _classCallCheck(this,Logger),_super.apply(this,arguments)}return Constructor=Logger,(protoProps=[{key:"onLog",value:function(evt){console.log("[".concat(this.moniker,"]"),evt.data),evt.handle()}},{key:"moniker",get:function(){return this.entity.has(_Moniker__WEBPACK_IMPORTED_MODULE_1__.Moniker)?this.entity.moniker.name:"Unknown"}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Logger}(geotic__WEBPACK_IMPORTED_MODULE_0__.Component)},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Position:()=>Position});var obj,key,value,Position=function(_Component){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Position,_Component);var _super=_createSuper(Position);function Position(){return _classCallCheck(this,Position),_super.apply(this,arguments)}return Position}(__webpack_require__(12).Component);value={x:0,y:0},(key="properties")in(obj=Position)?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Map:()=>Map});var geotic__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12),_MapLayer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(28);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var obj,key,value,Map=function(_Component){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Map,_Component);var Constructor,protoProps,staticProps,_super=_createSuper(Map);function Map(){return _classCallCheck(this,Map),_super.apply(this,arguments)}return Constructor=Map,(protoProps=[{key:"idx",value:function(x,y){return y*this.width+x}},{key:"coord",value:function(idx){return this.width,idx/this.width}},{key:"getLayer",value:function(name){return this.entity.get(_MapLayer__WEBPACK_IMPORTED_MODULE_1__.MapLayer,name)}},{key:"map",get:function(){return this.mapEntity.map}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Map}(geotic__WEBPACK_IMPORTED_MODULE_0__.Component);value={name:"",width:32,height:32},(key="properties")in(obj=Map)?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MapLayer:()=>MapLayer});var obj,key,value,MapLayer=function(_Component){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(MapLayer,_Component);var Constructor,protoProps,staticProps,_super=_createSuper(MapLayer);function MapLayer(){return _classCallCheck(this,MapLayer),_super.apply(this,arguments)}return Constructor=MapLayer,(protoProps=[{key:"getByIndex",value:function(idx){return content[idx]}},{key:"get",value:function(x,y){}},{key:"map",get:function(){return this.mapEntity.map}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),MapLayer}(__webpack_require__(12).Component);value={mapEntity:"<Entity>",name:"",content:"<EntityArray>"},(key="properties")in(obj=MapLayer)?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Glyph:()=>Glyph});var obj,key,value,Glyph=function(_Component){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Glyph,_Component);var _super=_createSuper(Glyph);function Glyph(){return _classCallCheck(this,Glyph),_super.apply(this,arguments)}return Glyph}(__webpack_require__(12).Component);value={fg:"#fff",bg:"transparent",char:""},(key="properties")in(obj=Glyph)?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Legs:()=>Legs});var geotic__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12),_Position__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(26),_Actor__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Legs=function(_Component){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Legs,_Component);var Constructor,protoProps,staticProps,_super=_createSuper(Legs);function Legs(){return _classCallCheck(this,Legs),_super.apply(this,arguments)}return Constructor=Legs,(protoProps=[{key:"onTryMove",value:function(evt){this.entity.has(_Position__WEBPACK_IMPORTED_MODULE_1__.Position)&&(!this.entity.has(_Actor__WEBPACK_IMPORTED_MODULE_2__.Actor)||this.entity.actor.hasEnergy?(this.entity.position.x+=evt.data.x,this.entity.position.y+=evt.data.y,this.entity.fireEvent("energy-consumed",750),evt.handle()):console.log("NO ENERGY"))}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Legs}(geotic__WEBPACK_IMPORTED_MODULE_0__.Component)},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MoveCommand:()=>MoveCommand});var geotic__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12),_enums_Directions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(32);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var obj,key,value,MoveCommand=function(_Component){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(MoveCommand,_Component);var _super=_createSuper(MoveCommand);function MoveCommand(){return _classCallCheck(this,MoveCommand),_super.apply(this,arguments)}return MoveCommand}(geotic__WEBPACK_IMPORTED_MODULE_0__.Component);obj=MoveCommand,key="properties",value={direction:_enums_Directions__WEBPACK_IMPORTED_MODULE_1__.DIR_Z},key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DIR_NW:()=>DIR_NW,DIR_N:()=>DIR_N,DIR_NE:()=>DIR_NE,DIR_W:()=>DIR_W,DIR_Z:()=>DIR_Z,DIR_E:()=>DIR_E,DIR_SW:()=>DIR_SW,DIR_S:()=>DIR_S,DIR_SE:()=>DIR_SE,shortName:()=>shortName,fullName:()=>fullName,delta:()=>delta});var directions=[{key:0,shortName:"NW",fullName:"Northwest",delta:{x:-1,y:-1}},{key:1,shortName:"N",fullName:"North",delta:{x:0,y:-1}},{key:2,shortName:"NE",fullName:"Northeast",delta:{x:1,y:-1}},{key:3,shortName:"W",fullName:"West",delta:{x:-1,y:0}},{key:4,shortName:"Z",fullName:"Here",delta:{x:0,y:0}},{key:5,shortName:"E",fullName:"East",delta:{x:1,y:0}},{key:6,shortName:"SW",fullName:"Southwest",delta:{x:-1,y:1}},{key:7,shortName:"S",fullName:"South",delta:{x:0,y:1}},{key:8,shortName:"SE",fullName:"Southeast",delta:{x:1,y:1}}],DIR_NW=0,DIR_N=1,DIR_NE=2,DIR_W=3,DIR_Z=4,DIR_E=5,DIR_SW=6,DIR_S=7,DIR_SE=8,shortName=function(direction){return directions[direction].shortName},fullName=function(direction){return directions[direction].fullName},delta=function(direction){return directions[direction].delta}},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{IsPlayer:()=>IsPlayer});var IsPlayer=function(_Component){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(IsPlayer,_Component);var _super=_createSuper(IsPlayer);function IsPlayer(){return _classCallCheck(this,IsPlayer),_super.apply(this,arguments)}return IsPlayer}(__webpack_require__(12).Component)},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Wandering:()=>Wandering});var geotic__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12),_ai_GoalTypes__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(17),_enums_Directions__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(32);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Wandering=function(_Component){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Wandering,_Component);var Constructor,protoProps,staticProps,_super=_createSuper(Wandering);function Wandering(){return _classCallCheck(this,Wandering),_super.apply(this,arguments)}return Constructor=Wandering,(protoProps=[{key:"onBoredom",value:function(evt){if(Math.random()<.25){var direction=Math.floor(9*Math.random()),delta=_enums_Directions__WEBPACK_IMPORTED_MODULE_2__.delta(direction);evt.data.goal=_ai_GoalTypes__WEBPACK_IMPORTED_MODULE_1__.MoveGoalType.create({data:delta}),evt.handle()}}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Wandering}(geotic__WEBPACK_IMPORTED_MODULE_0__.Component)},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>System});var _game=new WeakMap,System=function(){function System(game){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,System),_game.set(this,{writable:!0,value:null}),function(receiver,privateMap,value){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to set private field on non-instance");if(descriptor.set)descriptor.set.call(receiver,value);else{if(!descriptor.writable)throw new TypeError("attempted to set read only private field");descriptor.value=value}}(this,_game,game)}return _createClass(System,[{key:"game",get:function(){return function(receiver,privateMap){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to get private field on non-instance");return descriptor.get?descriptor.get.call(receiver):descriptor.value}(this,_game)}}]),_createClass(System,[{key:"update",value:function(dt){}}]),System}()},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>ActionSystem});__webpack_require__(37);var _ecs_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10),_System__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(35);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var _query=new WeakMap,ActionSystem=function(_System){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ActionSystem,_System);var Constructor,protoProps,staticProps,_super=_createSuper(ActionSystem);function ActionSystem(game){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ActionSystem),_this=_super.call(this,game),_query.set(_assertThisInitialized(_this),{writable:!0,value:null}),function(receiver,privateMap,value){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to set private field on non-instance");if(descriptor.set)descriptor.set.call(receiver,value);else{if(!descriptor.writable)throw new TypeError("attempted to set read only private field");descriptor.value=value}}(_assertThisInitialized(_this),_query,game.ecs.createQuery({all:[_ecs_components__WEBPACK_IMPORTED_MODULE_1__.Actor]})),_this}return Constructor=ActionSystem,(protoProps=[{key:"update",value:function(dt){var _this2=this,entities=function(receiver,privateMap){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to get private field on non-instance");return descriptor.get?descriptor.get.call(receiver):descriptor.value}(this,_query).get(),sorted=Array.from(entities);sorted.sort((function(a,b){return a.actor.energy<b.actor.energy?1:-1}));var entity=sorted[0];for(entity.actor.hasEnergy||(this.game.clock.incrementTick(-1*entity.actor.energy),entities.forEach((function(entity){entity.actor.addEnergy(_this2.game.clock.tickDelta)})));entity.actor.hasEnergy&&!entity.isPlayer;)entity.fireEvent("take-action"),entity=sorted.shift()}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),ActionSystem}(_System__WEBPACK_IMPORTED_MODULE_2__.default)},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>ECS});var geotic__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12),_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10),_prefabs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(38),_core_Manager__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=o[Symbol.iterator]()},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e2){didErr=!0,err=_e2},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _classPrivateFieldGet(receiver,privateMap){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to get private field on non-instance");return descriptor.get?descriptor.get.call(receiver):descriptor.value}var _engine=new WeakMap,ECS=function(_Manager){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ECS,_Manager);var _super=_createSuper(ECS);function ECS(game){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ECS),_this=_super.call(this,game),_engine.set(_assertThisInitialized(_this),{writable:!0,value:void 0}),function(receiver,privateMap,value){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to set private field on non-instance");if(descriptor.set)descriptor.set.call(receiver,value);else{if(!descriptor.writable)throw new TypeError("attempted to set read only private field");descriptor.value=value}}(_assertThisInitialized(_this),_engine,new geotic__WEBPACK_IMPORTED_MODULE_0__.Engine),Object.values(_components__WEBPACK_IMPORTED_MODULE_1__).forEach((function(component){_classPrivateFieldGet(_assertThisInitialized(_this),_engine).registerComponent(component)})),Object.values(_prefabs__WEBPACK_IMPORTED_MODULE_2__).forEach((function(prefab){_classPrivateFieldGet(_assertThisInitialized(_this),_engine).registerPrefab(prefab)})),_this}return _createClass(ECS,[{key:"engine",get:function(){return _classPrivateFieldGet(this,_engine)}}]),_createClass(ECS,[{key:"onNewGame",value:function(){var _step,_iterator=_createForOfIteratorHelper(_classPrivateFieldGet(this,_engine).entities.all);try{for(_iterator.s();!(_step=_iterator.n()).done;){_step.value.destroy()}}catch(err){_iterator.e(err)}finally{_iterator.f()}}},{key:"onSaveGame",value:function(){return{engine:_classPrivateFieldGet(this,_engine).serialize()}}},{key:"onLoadGame",value:function(data){var _step2,_iterator2=_createForOfIteratorHelper(_classPrivateFieldGet(this,_engine).entities.all);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){_step2.value.destroy()}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}_classPrivateFieldGet(this,_engine).deserialize(data.engine)}}]),ECS}(_core_Manager__WEBPACK_IMPORTED_MODULE_3__.default)},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var _BeingPrefab_json__WEBPACK_IMPORTED_MODULE_0___namespace_cache,_HumanPrefab_json__WEBPACK_IMPORTED_MODULE_1___namespace_cache,_WandererPrefab_json__WEBPACK_IMPORTED_MODULE_2___namespace_cache,_HumanWandererPrefab_json__WEBPACK_IMPORTED_MODULE_3___namespace_cache,_PlayerPrefab_json__WEBPACK_IMPORTED_MODULE_4___namespace_cache,_GoalPrefab_json__WEBPACK_IMPORTED_MODULE_5___namespace_cache;__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BeingPrefab:()=>_BeingPrefab_json__WEBPACK_IMPORTED_MODULE_0___namespace_cache||(_BeingPrefab_json__WEBPACK_IMPORTED_MODULE_0___namespace_cache=__webpack_require__.t(_BeingPrefab_json__WEBPACK_IMPORTED_MODULE_0__,2)),HumanPrefab:()=>_HumanPrefab_json__WEBPACK_IMPORTED_MODULE_1___namespace_cache||(_HumanPrefab_json__WEBPACK_IMPORTED_MODULE_1___namespace_cache=__webpack_require__.t(_HumanPrefab_json__WEBPACK_IMPORTED_MODULE_1__,2)),WandererPrefab:()=>_WandererPrefab_json__WEBPACK_IMPORTED_MODULE_2___namespace_cache||(_WandererPrefab_json__WEBPACK_IMPORTED_MODULE_2___namespace_cache=__webpack_require__.t(_WandererPrefab_json__WEBPACK_IMPORTED_MODULE_2__,2)),HumanWanderer:()=>_HumanWandererPrefab_json__WEBPACK_IMPORTED_MODULE_3___namespace_cache||(_HumanWandererPrefab_json__WEBPACK_IMPORTED_MODULE_3___namespace_cache=__webpack_require__.t(_HumanWandererPrefab_json__WEBPACK_IMPORTED_MODULE_3__,2)),PlayerPrefab:()=>_PlayerPrefab_json__WEBPACK_IMPORTED_MODULE_4___namespace_cache||(_PlayerPrefab_json__WEBPACK_IMPORTED_MODULE_4___namespace_cache=__webpack_require__.t(_PlayerPrefab_json__WEBPACK_IMPORTED_MODULE_4__,2)),GoalPrefab:()=>_GoalPrefab_json__WEBPACK_IMPORTED_MODULE_5___namespace_cache||(_GoalPrefab_json__WEBPACK_IMPORTED_MODULE_5___namespace_cache=__webpack_require__.t(_GoalPrefab_json__WEBPACK_IMPORTED_MODULE_5__,2))});var _BeingPrefab_json__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(39),_HumanPrefab_json__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(40),_WandererPrefab_json__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(41),_HumanWandererPrefab_json__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(42),_PlayerPrefab_json__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(43),_GoalPrefab_json__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(44)},module=>{module.exports=JSON.parse('{"name":"Being","components":[{"type":"Actor"},{"type":"Position"},{"type":"Glyph","properties":{"char":"?"}}]}')},module=>{module.exports=JSON.parse('{"name":"Human","inherit":["Being"],"components":[{"type":"Moniker"},{"type":"Glyph","properties":{"char":"h","fg":"pink"}},{"type":"Legs"},{"type":"Eater"}]}')},module=>{module.exports=JSON.parse('{"name":"Wanderer","components":[{"type":"Moniker","properties":{"name":"Wanderer"}},{"type":"Wandering"},{"type":"Brain"},{"type":"Logger"}]}')},module=>{module.exports=JSON.parse('{"name":"HumanWanderer","inherit":["Human","Wanderer"]}')},module=>{module.exports=JSON.parse('{"name":"Player","inherit":["Human"],"components":[{"type":"Moniker","properties":{"name":"Player"}},{"type":"Glyph","properties":{"char":"@","fg":"white"}},{"type":"IsPlayer"},{"type":"Logger"}]}')},module=>{module.exports=JSON.parse('{"name":"Goal","components":[{"type":"Goal"}]}')},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>RenderSystem});var _ecs_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10),_System__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(35);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var _query=new WeakMap,RenderSystem=function(_System){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(RenderSystem,_System);var Constructor,protoProps,staticProps,_super=_createSuper(RenderSystem);function RenderSystem(game){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,RenderSystem),_this=_super.call(this,game),_query.set(_assertThisInitialized(_this),{writable:!0,value:null}),function(receiver,privateMap,value){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to set private field on non-instance");if(descriptor.set)descriptor.set.call(receiver,value);else{if(!descriptor.writable)throw new TypeError("attempted to set read only private field");descriptor.value=value}}(_assertThisInitialized(_this),_query,game.ecs.createQuery({all:[_ecs_components__WEBPACK_IMPORTED_MODULE_0__.Glyph,_ecs_components__WEBPACK_IMPORTED_MODULE_0__.Position]})),_this}return Constructor=RenderSystem,(protoProps=[{key:"render",value:function(){var _this2=this;this.game.renderer.clear(),function(receiver,privateMap){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to get private field on non-instance");return descriptor.get?descriptor.get.call(receiver):descriptor.value}(this,_query).get().forEach((function(renderable){_this2.game.renderer.draw(renderable.position.x,renderable.position.y,renderable.glyph.char,renderable.glyph.fg,renderable.glyph.bg)}))}},{key:"update",value:function(dt){this.game.clock.tickDelta&&this.render()}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),RenderSystem}(_System__WEBPACK_IMPORTED_MODULE_1__.default)},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>MovementSystem});var _ecs_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10),_enums_Directions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(32),_System__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(35);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var _query=new WeakMap,MovementSystem=function(_System){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(MovementSystem,_System);var Constructor,protoProps,staticProps,_super=_createSuper(MovementSystem);function MovementSystem(game){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MovementSystem),_this=_super.call(this,game),_query.set(_assertThisInitialized(_this),{writable:!0,value:null}),function(receiver,privateMap,value){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to set private field on non-instance");if(descriptor.set)descriptor.set.call(receiver,value);else{if(!descriptor.writable)throw new TypeError("attempted to set read only private field");descriptor.value=value}}(_assertThisInitialized(_this),_query,game.ecs.createQuery({all:[_ecs_components__WEBPACK_IMPORTED_MODULE_0__.MoveCommand,_ecs_components__WEBPACK_IMPORTED_MODULE_0__.Position]})),_this}return Constructor=MovementSystem,(protoProps=[{key:"update",value:function(dt){(function(receiver,privateMap){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to get private field on non-instance");return descriptor.get?descriptor.get.call(receiver):descriptor.value})(this,_query).get().forEach((function(entity){var delta=_enums_Directions__WEBPACK_IMPORTED_MODULE_1__.delta(entity.moveCommand.direction);entity.fireEvent("TryMove",delta),entity.moveCommand.destroy()}))}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),MovementSystem}(_System__WEBPACK_IMPORTED_MODULE_2__.default)},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>UISystem});var _ecs_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10),_System__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(35);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var _query=new WeakMap,UISystem=function(_System){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(UISystem,_System);var Constructor,protoProps,staticProps,_super=_createSuper(UISystem);function UISystem(game){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,UISystem),_this=_super.call(this,game),_query.set(_assertThisInitialized(_this),{writable:!0,value:null}),function(receiver,privateMap,value){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to set private field on non-instance");if(descriptor.set)descriptor.set.call(receiver,value);else{if(!descriptor.writable)throw new TypeError("attempted to set read only private field");descriptor.value=value}}(_assertThisInitialized(_this),_query,_this.game.ecs.createQuery({all:[_ecs_components__WEBPACK_IMPORTED_MODULE_0__.Moniker,_ecs_components__WEBPACK_IMPORTED_MODULE_0__.Actor]})),_this}return Constructor=UISystem,(protoProps=[{key:"update",value:function(dt){var turn=this.game.clock.turn,subTurn="".concat(this.game.clock.subTurn).padEnd(3,"0"),x=this.game.mouse.x,y=this.game.mouse.y,hasMouse=this.game.mouse.hasMouse;this.game.renderer.drawText(1,1,"Knossonia (".concat(x,", ").concat(y,") ").concat(hasMouse)),this.game.renderer.drawText(this.game.renderer.width-5-"".concat(turn).length,1,"".concat(turn,".").concat(subTurn))}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),UISystem}(_System__WEBPACK_IMPORTED_MODULE_1__.default)},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>MouseManager});var _Manager__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _classPrivateFieldSet(receiver,privateMap,value){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to set private field on non-instance");if(descriptor.set)descriptor.set.call(receiver,value);else{if(!descriptor.writable)throw new TypeError("attempted to set read only private field");descriptor.value=value}return value}function _classPrivateFieldGet(receiver,privateMap){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to get private field on non-instance");return descriptor.get?descriptor.get.call(receiver):descriptor.value}var _x=new WeakMap,_y=new WeakMap,_hasMouse=new WeakMap,MouseManager=function(_Manager){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(MouseManager,_Manager);var Constructor,protoProps,staticProps,_super=_createSuper(MouseManager);function MouseManager(){var _this;_classCallCheck(this,MouseManager);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=_super.call.apply(_super,[this].concat(args)),_x.set(_assertThisInitialized(_this),{writable:!0,value:0}),_y.set(_assertThisInitialized(_this),{writable:!0,value:0}),_hasMouse.set(_assertThisInitialized(_this),{writable:!0,value:!1}),_this}return Constructor=MouseManager,(protoProps=[{key:"updatePosition",value:function(x,y){_classPrivateFieldSet(this,_x,Math.max(0,x)),_classPrivateFieldSet(this,_y,Math.max(0,y))}},{key:"updateMouseEnter",value:function(){_classPrivateFieldSet(this,_hasMouse,!0)}},{key:"updateMouseLeave",value:function(){_classPrivateFieldSet(this,_hasMouse,!1)}},{key:"x",get:function(){return _classPrivateFieldGet(this,_x)}},{key:"y",get:function(){return _classPrivateFieldGet(this,_y)}},{key:"hasMouse",get:function(){return _classPrivateFieldGet(this,_hasMouse)}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),MouseManager}(_Manager__WEBPACK_IMPORTED_MODULE_0__.default)},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>CommandManager});var _InputDomainType__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(50),_commands__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(51),_Manager__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _classPrivateFieldGet(receiver,privateMap){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to get private field on non-instance");return descriptor.get?descriptor.get.call(receiver):descriptor.value}var _commands=new WeakMap,_domainStack=new WeakMap,CommandManager=function(_Manager){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(CommandManager,_Manager);var Constructor,protoProps,staticProps,_super=_createSuper(CommandManager);function CommandManager(game){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CommandManager),_this=_super.call(this,game),_commands.set(_assertThisInitialized(_this),{writable:!0,value:{}}),_domainStack.set(_assertThisInitialized(_this),{writable:!0,value:[_InputDomainType__WEBPACK_IMPORTED_MODULE_0__.INPUT_DOMAIN_DEFAULT]}),_commands__WEBPACK_IMPORTED_MODULE_1__.default.forEach((function(cmd){return _this.registerCommand(cmd)})),_this}return Constructor=CommandManager,(protoProps=[{key:"onInputEvent",value:function(evt){var cmd=this.getCommandForInputEvent(evt);cmd&&this.game.screens.onInputCommand(cmd)}},{key:"pushDomain",value:function(domain){_classPrivateFieldGet(this,_domainStack).push(domain)}},{key:"popDomain",value:function(domain){var index=_classPrivateFieldGet(this,_domainStack).lastIndexOf(domain);index>-1&&_classPrivateFieldGet(this,_domainStack).splice(index,1)}},{key:"getDomainCommands",value:function(domain){return _classPrivateFieldGet(this,_commands)[domain]||[]}},{key:"getCommandForInputEvent",value:function(evt){for(var i=_classPrivateFieldGet(this,_domainStack).length-1;i>=0;i--){var domain=_classPrivateFieldGet(this,_domainStack)[i],cmd=this.getDomainCommands(domain).find((function(cmd){return cmd.matches(evt)}));if(cmd)return cmd}}},{key:"registerCommand",value:function(command){_classPrivateFieldGet(this,_commands)[command.domain]||(_classPrivateFieldGet(this,_commands)[command.domain]=[]),_classPrivateFieldGet(this,_commands)[command.domain].push(command)}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),CommandManager}(_Manager__WEBPACK_IMPORTED_MODULE_2__.default)},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{INPUT_DOMAIN_DEFAULT:()=>INPUT_DOMAIN_DEFAULT,INPUT_DOMAIN_MAIN_MENU:()=>INPUT_DOMAIN_MAIN_MENU,INPUT_DOMAIN_ADVENTURE:()=>INPUT_DOMAIN_ADVENTURE,INPUT_DOMAIN_LOOK:()=>INPUT_DOMAIN_LOOK});var INPUT_DOMAIN_DEFAULT=0,INPUT_DOMAIN_MAIN_MENU=1,INPUT_DOMAIN_ADVENTURE=2,INPUT_DOMAIN_LOOK=3},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var _InputDomainType__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(50),_InputCommand__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(52),_InputCommandType__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(53),_KeyCodes__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(54),cmd=function(domain,type,name,isKeyboard,key,shift,ctrl,alt,meta){return new _InputCommand__WEBPACK_IMPORTED_MODULE_1__.default({domain,type,name,isKeyboard,key,shift,ctrl,alt,meta})};const __WEBPACK_DEFAULT_EXPORT__=[cmd(_InputDomainType__WEBPACK_IMPORTED_MODULE_0__.INPUT_DOMAIN_DEFAULT,_InputCommandType__WEBPACK_IMPORTED_MODULE_2__.INPUT_CMD_CONFIRM,"confirm",!0,_KeyCodes__WEBPACK_IMPORTED_MODULE_3__.KEY_ENTER,!1,!1,!1,!1),cmd(_InputDomainType__WEBPACK_IMPORTED_MODULE_0__.INPUT_DOMAIN_DEFAULT,_InputCommandType__WEBPACK_IMPORTED_MODULE_2__.INPUT_CMD_CONFIRM,"confirm2",!0,_KeyCodes__WEBPACK_IMPORTED_MODULE_3__.KEY_SPACE,!1,!0,!1,!1),cmd(_InputDomainType__WEBPACK_IMPORTED_MODULE_0__.INPUT_DOMAIN_DEFAULT,_InputCommandType__WEBPACK_IMPORTED_MODULE_2__.INPUT_CMD_CANCEL,"cancel",!0,_KeyCodes__WEBPACK_IMPORTED_MODULE_3__.KEY_ESCAPE,!1,!1,!1,!1),cmd(_InputDomainType__WEBPACK_IMPORTED_MODULE_0__.INPUT_DOMAIN_DEFAULT,_InputCommandType__WEBPACK_IMPORTED_MODULE_2__.INPUT_CMD_SAVE,"save",!0,_KeyCodes__WEBPACK_IMPORTED_MODULE_3__.KEY_S,!1,!0,!1,!1),cmd(_InputDomainType__WEBPACK_IMPORTED_MODULE_0__.INPUT_DOMAIN_DEFAULT,_InputCommandType__WEBPACK_IMPORTED_MODULE_2__.INPUT_CMD_LOAD,"load",!0,_KeyCodes__WEBPACK_IMPORTED_MODULE_3__.KEY_L,!1,!0,!1,!1),cmd(_InputDomainType__WEBPACK_IMPORTED_MODULE_0__.INPUT_DOMAIN_ADVENTURE,_InputCommandType__WEBPACK_IMPORTED_MODULE_2__.INPUT_CMD_WAIT,"wait",!0,_KeyCodes__WEBPACK_IMPORTED_MODULE_3__.KEY_S,!1,!1,!1,!1),cmd(_InputDomainType__WEBPACK_IMPORTED_MODULE_0__.INPUT_DOMAIN_ADVENTURE,_InputCommandType__WEBPACK_IMPORTED_MODULE_2__.INPUT_CMD_MOVE_NW,"move_nw",!0,_KeyCodes__WEBPACK_IMPORTED_MODULE_3__.KEY_Q,!1,!1,!1,!1),cmd(_InputDomainType__WEBPACK_IMPORTED_MODULE_0__.INPUT_DOMAIN_ADVENTURE,_InputCommandType__WEBPACK_IMPORTED_MODULE_2__.INPUT_CMD_MOVE_N,"move_n",!0,_KeyCodes__WEBPACK_IMPORTED_MODULE_3__.KEY_W,!1,!1,!1,!1),cmd(_InputDomainType__WEBPACK_IMPORTED_MODULE_0__.INPUT_DOMAIN_ADVENTURE,_InputCommandType__WEBPACK_IMPORTED_MODULE_2__.INPUT_CMD_MOVE_N,"move_n2",!0,_KeyCodes__WEBPACK_IMPORTED_MODULE_3__.KEY_UP,!1,!1,!1,!1),cmd(_InputDomainType__WEBPACK_IMPORTED_MODULE_0__.INPUT_DOMAIN_ADVENTURE,_InputCommandType__WEBPACK_IMPORTED_MODULE_2__.INPUT_CMD_MOVE_NE,"move_ne",!0,_KeyCodes__WEBPACK_IMPORTED_MODULE_3__.KEY_E,!1,!1,!1,!1),cmd(_InputDomainType__WEBPACK_IMPORTED_MODULE_0__.INPUT_DOMAIN_ADVENTURE,_InputCommandType__WEBPACK_IMPORTED_MODULE_2__.INPUT_CMD_MOVE_W,"move_w",!0,_KeyCodes__WEBPACK_IMPORTED_MODULE_3__.KEY_A,!1,!1,!1,!1),cmd(_InputDomainType__WEBPACK_IMPORTED_MODULE_0__.INPUT_DOMAIN_ADVENTURE,_InputCommandType__WEBPACK_IMPORTED_MODULE_2__.INPUT_CMD_MOVE_W,"move_w2",!0,_KeyCodes__WEBPACK_IMPORTED_MODULE_3__.KEY_LEFT,!1,!1,!1,!1),cmd(_InputDomainType__WEBPACK_IMPORTED_MODULE_0__.INPUT_DOMAIN_ADVENTURE,_InputCommandType__WEBPACK_IMPORTED_MODULE_2__.INPUT_CMD_MOVE_E,"move_e",!0,_KeyCodes__WEBPACK_IMPORTED_MODULE_3__.KEY_D,!1,!1,!1,!1),cmd(_InputDomainType__WEBPACK_IMPORTED_MODULE_0__.INPUT_DOMAIN_ADVENTURE,_InputCommandType__WEBPACK_IMPORTED_MODULE_2__.INPUT_CMD_MOVE_E,"move_e2",!0,_KeyCodes__WEBPACK_IMPORTED_MODULE_3__.KEY_RIGHT,!1,!1,!1,!1),cmd(_InputDomainType__WEBPACK_IMPORTED_MODULE_0__.INPUT_DOMAIN_ADVENTURE,_InputCommandType__WEBPACK_IMPORTED_MODULE_2__.INPUT_CMD_MOVE_SW,"move_sw",!0,_KeyCodes__WEBPACK_IMPORTED_MODULE_3__.KEY_Z,!1,!1,!1,!1),cmd(_InputDomainType__WEBPACK_IMPORTED_MODULE_0__.INPUT_DOMAIN_ADVENTURE,_InputCommandType__WEBPACK_IMPORTED_MODULE_2__.INPUT_CMD_MOVE_S,"move_s",!0,_KeyCodes__WEBPACK_IMPORTED_MODULE_3__.KEY_X,!1,!1,!1,!1),cmd(_InputDomainType__WEBPACK_IMPORTED_MODULE_0__.INPUT_DOMAIN_ADVENTURE,_InputCommandType__WEBPACK_IMPORTED_MODULE_2__.INPUT_CMD_MOVE_S,"move_s2",!0,_KeyCodes__WEBPACK_IMPORTED_MODULE_3__.KEY_DOWN,!1,!1,!1,!1),cmd(_InputDomainType__WEBPACK_IMPORTED_MODULE_0__.INPUT_DOMAIN_ADVENTURE,_InputCommandType__WEBPACK_IMPORTED_MODULE_2__.INPUT_CMD_MOVE_SE,"move_se",!0,_KeyCodes__WEBPACK_IMPORTED_MODULE_3__.KEY_C,!1,!1,!1,!1),cmd(_InputDomainType__WEBPACK_IMPORTED_MODULE_0__.INPUT_DOMAIN_ADVENTURE,_InputCommandType__WEBPACK_IMPORTED_MODULE_2__.INPUT_CMD_LOOK,"look",!0,_KeyCodes__WEBPACK_IMPORTED_MODULE_3__.KEY_L,!1,!1,!1,!1)]},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>InputCommand});var _events_InputEvent__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var InputCommand=function(){function InputCommand(data){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,InputCommand),this.domain=data.domain,this.type=data.type,this.name=data.name,this.isKeyboard=data.isKeyboard,this.key=data.key,this.shift=data.shift,this.ctrl=data.ctrl,this.alt=data.alt,this.meta=data.meta}var Constructor,protoProps,staticProps;return Constructor=InputCommand,(protoProps=[{key:"matches",value:function(inputEvent){var isKeyboard=inputEvent instanceof _events_InputEvent__WEBPACK_IMPORTED_MODULE_0__.default;return this.isKeyboard==isKeyboard&&this.key==inputEvent.key&&this.shift==inputEvent.shift&&this.ctrl==inputEvent.ctrl&&this.alt==inputEvent.alt&&this.meta==inputEvent.meta}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),InputCommand}()},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{INPUT_CMD_MOVE_NW:()=>INPUT_CMD_MOVE_NW,INPUT_CMD_MOVE_N:()=>INPUT_CMD_MOVE_N,INPUT_CMD_MOVE_NE:()=>INPUT_CMD_MOVE_NE,INPUT_CMD_MOVE_W:()=>INPUT_CMD_MOVE_W,INPUT_CMD_MOVE_E:()=>INPUT_CMD_MOVE_E,INPUT_CMD_MOVE_SW:()=>INPUT_CMD_MOVE_SW,INPUT_CMD_MOVE_S:()=>INPUT_CMD_MOVE_S,INPUT_CMD_MOVE_SE:()=>INPUT_CMD_MOVE_SE,INPUT_CMD_WAIT:()=>INPUT_CMD_WAIT,INPUT_CMD_CONFIRM:()=>INPUT_CMD_CONFIRM,INPUT_CMD_CANCEL:()=>INPUT_CMD_CANCEL,INPUT_CMD_SAVE:()=>INPUT_CMD_SAVE,INPUT_CMD_LOAD:()=>INPUT_CMD_LOAD,INPUT_CMD_LOOK:()=>INPUT_CMD_LOOK});var INPUT_CMD_MOVE_NW=0,INPUT_CMD_MOVE_N=1,INPUT_CMD_MOVE_NE=2,INPUT_CMD_MOVE_W=3,INPUT_CMD_MOVE_E=4,INPUT_CMD_MOVE_SW=5,INPUT_CMD_MOVE_S=6,INPUT_CMD_MOVE_SE=7,INPUT_CMD_WAIT=8,INPUT_CMD_CONFIRM=9,INPUT_CMD_CANCEL=10,INPUT_CMD_SAVE=11,INPUT_CMD_LOAD=12,INPUT_CMD_LOOK=13},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{KEY_CANCEL:()=>KEY_CANCEL,KEY_HELP:()=>KEY_HELP,KEY_BACK_SPACE:()=>KEY_BACK_SPACE,KEY_TAB:()=>KEY_TAB,KEY_CLEAR:()=>KEY_CLEAR,KEY_ENTER:()=>KEY_ENTER,KEY_ENTER_SPECIAL:()=>KEY_ENTER_SPECIAL,KEY_SHIFT:()=>KEY_SHIFT,KEY_CONTROL:()=>KEY_CONTROL,KEY_ALT:()=>KEY_ALT,KEY_PAUSE:()=>KEY_PAUSE,KEY_CAPS_LOCK:()=>KEY_CAPS_LOCK,KEY_KANA:()=>KEY_KANA,KEY_EISU:()=>KEY_EISU,KEY_JUNJA:()=>KEY_JUNJA,KEY_FINAL:()=>KEY_FINAL,KEY_HANJA:()=>KEY_HANJA,KEY_ESCAPE:()=>KEY_ESCAPE,KEY_CONVERT:()=>KEY_CONVERT,KEY_NONCONVERT:()=>KEY_NONCONVERT,KEY_ACCEPT:()=>KEY_ACCEPT,KEY_MODECHANGE:()=>KEY_MODECHANGE,KEY_SPACE:()=>KEY_SPACE,KEY_PAGE_UP:()=>KEY_PAGE_UP,KEY_PAGE_DOWN:()=>KEY_PAGE_DOWN,KEY_END:()=>KEY_END,KEY_HOME:()=>KEY_HOME,KEY_LEFT:()=>KEY_LEFT,KEY_UP:()=>KEY_UP,KEY_RIGHT:()=>KEY_RIGHT,KEY_DOWN:()=>KEY_DOWN,KEY_SELECT:()=>KEY_SELECT,KEY_PRINT:()=>KEY_PRINT,KEY_EXECUTE:()=>KEY_EXECUTE,KEY_PRINTSCREEN:()=>KEY_PRINTSCREEN,KEY_INSERT:()=>KEY_INSERT,KEY_DELETE:()=>KEY_DELETE,KEY_NUM_0:()=>KEY_NUM_0,KEY_NUM_1:()=>KEY_NUM_1,KEY_NUM_2:()=>KEY_NUM_2,KEY_NUM_3:()=>KEY_NUM_3,KEY_NUM_4:()=>KEY_NUM_4,KEY_NUM_5:()=>KEY_NUM_5,KEY_NUM_6:()=>KEY_NUM_6,KEY_NUM_7:()=>KEY_NUM_7,KEY_NUM_8:()=>KEY_NUM_8,KEY_NUM_9:()=>KEY_NUM_9,KEY_COLON:()=>KEY_COLON,KEY_SEMICOLON:()=>KEY_SEMICOLON,KEY_LESS_THAN:()=>KEY_LESS_THAN,KEY_EQUALS:()=>KEY_EQUALS,KEY_GREATER_THAN:()=>KEY_GREATER_THAN,KEY_QUESTION_MARK:()=>KEY_QUESTION_MARK,KEY_AT:()=>KEY_AT,KEY_A:()=>KEY_A,KEY_B:()=>KEY_B,KEY_C:()=>KEY_C,KEY_D:()=>KEY_D,KEY_E:()=>KEY_E,KEY_F:()=>KEY_F,KEY_G:()=>KEY_G,KEY_H:()=>KEY_H,KEY_I:()=>KEY_I,KEY_J:()=>KEY_J,KEY_K:()=>KEY_K,KEY_L:()=>KEY_L,KEY_M:()=>KEY_M,KEY_N:()=>KEY_N,KEY_O:()=>KEY_O,KEY_P:()=>KEY_P,KEY_Q:()=>KEY_Q,KEY_R:()=>KEY_R,KEY_S:()=>KEY_S,KEY_T:()=>KEY_T,KEY_U:()=>KEY_U,KEY_V:()=>KEY_V,KEY_W:()=>KEY_W,KEY_X:()=>KEY_X,KEY_Y:()=>KEY_Y,KEY_Z:()=>KEY_Z,KEY_META:()=>KEY_META,KEY_CONTEXT_MENU:()=>KEY_CONTEXT_MENU,KEY_SLEEP:()=>KEY_SLEEP,KEY_NUMPAD_0:()=>KEY_NUMPAD_0,KEY_NUMPAD_1:()=>KEY_NUMPAD_1,KEY_NUMPAD_2:()=>KEY_NUMPAD_2,KEY_NUMPAD_3:()=>KEY_NUMPAD_3,KEY_NUMPAD_4:()=>KEY_NUMPAD_4,KEY_NUMPAD_5:()=>KEY_NUMPAD_5,KEY_NUMPAD_6:()=>KEY_NUMPAD_6,KEY_NUMPAD_7:()=>KEY_NUMPAD_7,KEY_NUMPAD_8:()=>KEY_NUMPAD_8,KEY_NUMPAD_9:()=>KEY_NUMPAD_9,KEY_MULTIPLY:()=>KEY_MULTIPLY,KEY_ADD:()=>KEY_ADD,KEY_SEPARATOR:()=>KEY_SEPARATOR,KEY_SUBTRACT:()=>KEY_SUBTRACT,KEY_DECIMAL:()=>KEY_DECIMAL,KEY_DIVIDE:()=>KEY_DIVIDE,KEY_F1:()=>KEY_F1,KEY_F2:()=>KEY_F2,KEY_F3:()=>KEY_F3,KEY_F4:()=>KEY_F4,KEY_F5:()=>KEY_F5,KEY_F6:()=>KEY_F6,KEY_F7:()=>KEY_F7,KEY_F8:()=>KEY_F8,KEY_F9:()=>KEY_F9,KEY_F10:()=>KEY_F10,KEY_F11:()=>KEY_F11,KEY_F12:()=>KEY_F12,KEY_F13:()=>KEY_F13,KEY_F14:()=>KEY_F14,KEY_F15:()=>KEY_F15,KEY_F16:()=>KEY_F16,KEY_F17:()=>KEY_F17,KEY_F18:()=>KEY_F18,KEY_F19:()=>KEY_F19,KEY_F20:()=>KEY_F20,KEY_F21:()=>KEY_F21,KEY_F22:()=>KEY_F22,KEY_F23:()=>KEY_F23,KEY_F24:()=>KEY_F24,KEY_NUM_LOCK:()=>KEY_NUM_LOCK,KEY_SCROLL_LOCK:()=>KEY_SCROLL_LOCK,KEY_WIN_OEM_FJ_JISHO:()=>KEY_WIN_OEM_FJ_JISHO,KEY_WIN_OEM_FJ_MASSHOU:()=>KEY_WIN_OEM_FJ_MASSHOU,KEY_WIN_OEM_FJ_TOUROKU:()=>KEY_WIN_OEM_FJ_TOUROKU,KEY_WIN_OEM_FJ_LOYA:()=>KEY_WIN_OEM_FJ_LOYA,KEY_WIN_OEM_FJ_ROYA:()=>KEY_WIN_OEM_FJ_ROYA,KEY_CIRCUMFLEX:()=>KEY_CIRCUMFLEX,KEY_EXCLAMATION:()=>KEY_EXCLAMATION,KEY_DOUBLE_QUOTE:()=>KEY_DOUBLE_QUOTE,KEY_HASH:()=>KEY_HASH,KEY_DOLLAR:()=>KEY_DOLLAR,KEY_PERCENT:()=>KEY_PERCENT,KEY_AMPERSAND:()=>KEY_AMPERSAND,KEY_UNDERSCORE:()=>KEY_UNDERSCORE,KEY_OPEN_PAREN:()=>KEY_OPEN_PAREN,KEY_CLOSE_PAREN:()=>KEY_CLOSE_PAREN,KEY_ASTERISK:()=>KEY_ASTERISK,KEY_PLUS:()=>KEY_PLUS,KEY_PIPE:()=>KEY_PIPE,KEY_HYPHEN_MINUS:()=>KEY_HYPHEN_MINUS,KEY_OPEN_CURLY_BRACKET:()=>KEY_OPEN_CURLY_BRACKET,KEY_CLOSE_CURLY_BRACKET:()=>KEY_CLOSE_CURLY_BRACKET,KEY_TILDE:()=>KEY_TILDE,KEY_VOLUME_MUTE:()=>KEY_VOLUME_MUTE,KEY_VOLUME_DOWN:()=>KEY_VOLUME_DOWN,KEY_VOLUME_UP:()=>KEY_VOLUME_UP,KEY_SEMICOLON_2:()=>KEY_SEMICOLON_2,KEY_EQUALS_2:()=>KEY_EQUALS_2,KEY_COMMA:()=>KEY_COMMA,KEY_MINUS:()=>KEY_MINUS,KEY_PERIOD:()=>KEY_PERIOD,KEY_SLASH:()=>KEY_SLASH,KEY_BACK_QUOTE:()=>KEY_BACK_QUOTE,KEY_OPEN_BRACKET:()=>KEY_OPEN_BRACKET,KEY_BACK_SLASH:()=>KEY_BACK_SLASH,KEY_CLOSE_BRACKET:()=>KEY_CLOSE_BRACKET,KEY_QUOTE:()=>KEY_QUOTE,KEY_META_2:()=>KEY_META_2,KEY_ALTGR:()=>KEY_ALTGR,KEY_WIN_ICO_HELP:()=>KEY_WIN_ICO_HELP,KEY_WIN_ICO_00:()=>KEY_WIN_ICO_00,KEY_WIN_ICO_CLEAR:()=>KEY_WIN_ICO_CLEAR,KEY_WIN_OEM_RESET:()=>KEY_WIN_OEM_RESET,KEY_WIN_OEM_JUMP:()=>KEY_WIN_OEM_JUMP,KEY_WIN_OEM_PA1:()=>KEY_WIN_OEM_PA1,KEY_WIN_OEM_PA2:()=>KEY_WIN_OEM_PA2,KEY_WIN_OEM_PA3:()=>KEY_WIN_OEM_PA3,KEY_WIN_OEM_WSCTRL:()=>KEY_WIN_OEM_WSCTRL,KEY_WIN_OEM_CUSEL:()=>KEY_WIN_OEM_CUSEL,KEY_WIN_OEM_ATTN:()=>KEY_WIN_OEM_ATTN,KEY_WIN_OEM_FINISH:()=>KEY_WIN_OEM_FINISH,KEY_WIN_OEM_COPY:()=>KEY_WIN_OEM_COPY,KEY_WIN_OEM_AUTO:()=>KEY_WIN_OEM_AUTO,KEY_WIN_OEM_ENLW:()=>KEY_WIN_OEM_ENLW,KEY_WIN_OEM_BACKTAB:()=>KEY_WIN_OEM_BACKTAB,KEY_ATTN:()=>KEY_ATTN,KEY_CRSEL:()=>KEY_CRSEL,KEY_EXSEL:()=>KEY_EXSEL,KEY_EREOF:()=>KEY_EREOF,KEY_PLAY:()=>KEY_PLAY,KEY_ZOOM:()=>KEY_ZOOM,KEY_PA1:()=>KEY_PA1,KEY_WIN_OEM_CLEAR:()=>KEY_WIN_OEM_CLEAR});var KEY_CANCEL=3,KEY_HELP=6,KEY_BACK_SPACE=8,KEY_TAB=9,KEY_CLEAR=12,KEY_ENTER=13,KEY_ENTER_SPECIAL=14,KEY_SHIFT=16,KEY_CONTROL=17,KEY_ALT=18,KEY_PAUSE=19,KEY_CAPS_LOCK=20,KEY_KANA=21,KEY_EISU=22,KEY_JUNJA=23,KEY_FINAL=24,KEY_HANJA=25,KEY_ESCAPE=27,KEY_CONVERT=28,KEY_NONCONVERT=29,KEY_ACCEPT=30,KEY_MODECHANGE=31,KEY_SPACE=32,KEY_PAGE_UP=33,KEY_PAGE_DOWN=34,KEY_END=35,KEY_HOME=36,KEY_LEFT=37,KEY_UP=38,KEY_RIGHT=39,KEY_DOWN=40,KEY_SELECT=41,KEY_PRINT=42,KEY_EXECUTE=43,KEY_PRINTSCREEN=44,KEY_INSERT=45,KEY_DELETE=46,KEY_NUM_0=48,KEY_NUM_1=49,KEY_NUM_2=50,KEY_NUM_3=51,KEY_NUM_4=52,KEY_NUM_5=53,KEY_NUM_6=54,KEY_NUM_7=55,KEY_NUM_8=56,KEY_NUM_9=57,KEY_COLON=58,KEY_SEMICOLON=59,KEY_LESS_THAN=60,KEY_EQUALS=61,KEY_GREATER_THAN=62,KEY_QUESTION_MARK=63,KEY_AT=64,KEY_A=65,KEY_B=66,KEY_C=67,KEY_D=68,KEY_E=69,KEY_F=70,KEY_G=71,KEY_H=72,KEY_I=73,KEY_J=74,KEY_K=75,KEY_L=76,KEY_M=77,KEY_N=78,KEY_O=79,KEY_P=80,KEY_Q=81,KEY_R=82,KEY_S=83,KEY_T=84,KEY_U=85,KEY_V=86,KEY_W=87,KEY_X=88,KEY_Y=89,KEY_Z=90,KEY_META=91,KEY_CONTEXT_MENU=93,KEY_SLEEP=95,KEY_NUMPAD_0=96,KEY_NUMPAD_1=97,KEY_NUMPAD_2=98,KEY_NUMPAD_3=99,KEY_NUMPAD_4=100,KEY_NUMPAD_5=101,KEY_NUMPAD_6=102,KEY_NUMPAD_7=103,KEY_NUMPAD_8=104,KEY_NUMPAD_9=105,KEY_MULTIPLY=106,KEY_ADD=107,KEY_SEPARATOR=108,KEY_SUBTRACT=109,KEY_DECIMAL=110,KEY_DIVIDE=111,KEY_F1=112,KEY_F2=113,KEY_F3=114,KEY_F4=115,KEY_F5=116,KEY_F6=117,KEY_F7=118,KEY_F8=119,KEY_F9=120,KEY_F10=121,KEY_F11=122,KEY_F12=123,KEY_F13=124,KEY_F14=125,KEY_F15=126,KEY_F16=127,KEY_F17=128,KEY_F18=129,KEY_F19=130,KEY_F20=131,KEY_F21=132,KEY_F22=133,KEY_F23=134,KEY_F24=135,KEY_NUM_LOCK=144,KEY_SCROLL_LOCK=145,KEY_WIN_OEM_FJ_JISHO=146,KEY_WIN_OEM_FJ_MASSHOU=147,KEY_WIN_OEM_FJ_TOUROKU=148,KEY_WIN_OEM_FJ_LOYA=149,KEY_WIN_OEM_FJ_ROYA=150,KEY_CIRCUMFLEX=160,KEY_EXCLAMATION=161,KEY_DOUBLE_QUOTE=162,KEY_HASH=163,KEY_DOLLAR=164,KEY_PERCENT=165,KEY_AMPERSAND=166,KEY_UNDERSCORE=167,KEY_OPEN_PAREN=168,KEY_CLOSE_PAREN=169,KEY_ASTERISK=170,KEY_PLUS=171,KEY_PIPE=172,KEY_HYPHEN_MINUS=173,KEY_OPEN_CURLY_BRACKET=174,KEY_CLOSE_CURLY_BRACKET=175,KEY_TILDE=176,KEY_VOLUME_MUTE=181,KEY_VOLUME_DOWN=182,KEY_VOLUME_UP=183,KEY_SEMICOLON_2=186,KEY_EQUALS_2=187,KEY_COMMA=188,KEY_MINUS=189,KEY_PERIOD=190,KEY_SLASH=191,KEY_BACK_QUOTE=192,KEY_OPEN_BRACKET=219,KEY_BACK_SLASH=220,KEY_CLOSE_BRACKET=221,KEY_QUOTE=222,KEY_META_2=224,KEY_ALTGR=225,KEY_WIN_ICO_HELP=227,KEY_WIN_ICO_00=228,KEY_WIN_ICO_CLEAR=230,KEY_WIN_OEM_RESET=233,KEY_WIN_OEM_JUMP=234,KEY_WIN_OEM_PA1=235,KEY_WIN_OEM_PA2=236,KEY_WIN_OEM_PA3=237,KEY_WIN_OEM_WSCTRL=238,KEY_WIN_OEM_CUSEL=239,KEY_WIN_OEM_ATTN=240,KEY_WIN_OEM_FINISH=241,KEY_WIN_OEM_COPY=242,KEY_WIN_OEM_AUTO=243,KEY_WIN_OEM_ENLW=244,KEY_WIN_OEM_BACKTAB=245,KEY_ATTN=246,KEY_CRSEL=247,KEY_EXSEL=248,KEY_EREOF=249,KEY_PLAY=250,KEY_ZOOM=251,KEY_PA1=253,KEY_WIN_OEM_CLEAR=254},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>ScreenManager});var _ScreenType__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(56),_screens_AdventureScreen__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(57),_screens_MainMenuScreen__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(59),_Manager__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _classPrivateFieldGet(receiver,privateMap){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to get private field on non-instance");return descriptor.get?descriptor.get.call(receiver):descriptor.value}function _classPrivateFieldSet(receiver,privateMap,value){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to set private field on non-instance");if(descriptor.set)descriptor.set.call(receiver,value);else{if(!descriptor.writable)throw new TypeError("attempted to set read only private field");descriptor.value=value}return value}var _screenType=new WeakMap,_screens=new WeakMap,ScreenManager=function(_Manager){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ScreenManager,_Manager);var Constructor,protoProps,staticProps,_super=_createSuper(ScreenManager);function ScreenManager(game){var _classPrivateFieldSet2,_this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ScreenManager),_this=_super.call(this,game),_screenType.set(_assertThisInitialized(_this),{writable:!0,value:_ScreenType__WEBPACK_IMPORTED_MODULE_0__.SCREEN_MAIN_MENU}),_screens.set(_assertThisInitialized(_this),{writable:!0,value:{}}),_classPrivateFieldSet(_assertThisInitialized(_this),_screens,(_defineProperty(_classPrivateFieldSet2={},_ScreenType__WEBPACK_IMPORTED_MODULE_0__.SCREEN_MAIN_MENU,new _screens_MainMenuScreen__WEBPACK_IMPORTED_MODULE_2__.default(game)),_defineProperty(_classPrivateFieldSet2,_ScreenType__WEBPACK_IMPORTED_MODULE_0__.SCREEN_ADVENTURE,new _screens_AdventureScreen__WEBPACK_IMPORTED_MODULE_1__.default(game)),_classPrivateFieldSet2)),_this}return Constructor=ScreenManager,(protoProps=[{key:"setScreen",value:function(screenType){this.screen.onLeave(),_classPrivateFieldSet(this,_screenType,screenType),this.screen.onEnter(),this.game.renderSystem.render()}},{key:"onInputCommand",value:function(cmd){this.screen.onInputCommand(cmd)}},{key:"update",value:function(dt){this.screen.onUpdate(dt)}},{key:"onLoadGame",value:function(data){this.setScreen(_ScreenType__WEBPACK_IMPORTED_MODULE_0__.SCREEN_ADVENTURE)}},{key:"screen",get:function(){return _classPrivateFieldGet(this,_screens)[_classPrivateFieldGet(this,_screenType)]}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),ScreenManager}(_Manager__WEBPACK_IMPORTED_MODULE_3__.default)},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SCREEN_MAIN_MENU:()=>SCREEN_MAIN_MENU,SCREEN_ADVENTURE:()=>SCREEN_ADVENTURE});var SCREEN_MAIN_MENU=0,SCREEN_ADVENTURE=1},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>AdventureScreen});var _Screen__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(58),_input_InputCommandType__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(53),_input_InputDomainType__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(50),_enums_Directions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(32),_ScreenType__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(56);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var AdventureScreen=function(_Screen){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(AdventureScreen,_Screen);var Constructor,protoProps,staticProps,_super=_createSuper(AdventureScreen);function AdventureScreen(){return _classCallCheck(this,AdventureScreen),_super.apply(this,arguments)}return Constructor=AdventureScreen,(protoProps=[{key:"onEnter",value:function(){this.game.commands.pushDomain(_input_InputDomainType__WEBPACK_IMPORTED_MODULE_2__.INPUT_DOMAIN_ADVENTURE)}},{key:"onLeave",value:function(){this.game.commands.popDomain(_input_InputDomainType__WEBPACK_IMPORTED_MODULE_2__.INPUT_DOMAIN_ADVENTURE)}},{key:"onDirectionInput",value:function(dir){this.game.cursor.isEnabled?this.game.cursor.move(dir):this.game.player.move(dir)}},{key:"onInputCommand",value:function(cmd){cmd.type===_input_InputCommandType__WEBPACK_IMPORTED_MODULE_1__.INPUT_CMD_SAVE&&this.game.state.saveGame(),cmd.type===_input_InputCommandType__WEBPACK_IMPORTED_MODULE_1__.INPUT_CMD_LOAD&&this.game.state.loadGame(),cmd.type===_input_InputCommandType__WEBPACK_IMPORTED_MODULE_1__.INPUT_CMD_LOOK&&this.game.cursor.toggle(),cmd.type===_input_InputCommandType__WEBPACK_IMPORTED_MODULE_1__.INPUT_CMD_CANCEL&&(this.game.cursor.isEnabled?this.game.cursor.disable():this.game.screens.setScreen(_ScreenType__WEBPACK_IMPORTED_MODULE_4__.SCREEN_MAIN_MENU)),cmd.type===_input_InputCommandType__WEBPACK_IMPORTED_MODULE_1__.INPUT_CMD_WAIT&&this.game.player.wait(),cmd.type===_input_InputCommandType__WEBPACK_IMPORTED_MODULE_1__.INPUT_CMD_MOVE_NW&&this.onDirectionInput(_enums_Directions__WEBPACK_IMPORTED_MODULE_3__.DIR_NW),cmd.type===_input_InputCommandType__WEBPACK_IMPORTED_MODULE_1__.INPUT_CMD_MOVE_N&&this.onDirectionInput(_enums_Directions__WEBPACK_IMPORTED_MODULE_3__.DIR_N),cmd.type===_input_InputCommandType__WEBPACK_IMPORTED_MODULE_1__.INPUT_CMD_MOVE_NE&&this.onDirectionInput(_enums_Directions__WEBPACK_IMPORTED_MODULE_3__.DIR_NE),cmd.type===_input_InputCommandType__WEBPACK_IMPORTED_MODULE_1__.INPUT_CMD_MOVE_W&&this.onDirectionInput(_enums_Directions__WEBPACK_IMPORTED_MODULE_3__.DIR_W),cmd.type===_input_InputCommandType__WEBPACK_IMPORTED_MODULE_1__.INPUT_CMD_MOVE_E&&this.onDirectionInput(_enums_Directions__WEBPACK_IMPORTED_MODULE_3__.DIR_E),cmd.type===_input_InputCommandType__WEBPACK_IMPORTED_MODULE_1__.INPUT_CMD_MOVE_SW&&this.onDirectionInput(_enums_Directions__WEBPACK_IMPORTED_MODULE_3__.DIR_SW),cmd.type===_input_InputCommandType__WEBPACK_IMPORTED_MODULE_1__.INPUT_CMD_MOVE_S&&this.onDirectionInput(_enums_Directions__WEBPACK_IMPORTED_MODULE_3__.DIR_S),cmd.type===_input_InputCommandType__WEBPACK_IMPORTED_MODULE_1__.INPUT_CMD_MOVE_SE&&this.onDirectionInput(_enums_Directions__WEBPACK_IMPORTED_MODULE_3__.DIR_SE)}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),AdventureScreen}(_Screen__WEBPACK_IMPORTED_MODULE_0__.default)},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>Screen});var _game=new WeakMap,Screen=function(){function Screen(game){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Screen),_game.set(this,{writable:!0,value:void 0}),function(receiver,privateMap,value){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to set private field on non-instance");if(descriptor.set)descriptor.set.call(receiver,value);else{if(!descriptor.writable)throw new TypeError("attempted to set read only private field");descriptor.value=value}}(this,_game,game)}return _createClass(Screen,[{key:"game",get:function(){return function(receiver,privateMap){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to get private field on non-instance");return descriptor.get?descriptor.get.call(receiver):descriptor.value}(this,_game)}}]),_createClass(Screen,[{key:"onEnter",value:function(){}},{key:"onLeave",value:function(){}},{key:"onInputCommand",value:function(cmd){}},{key:"onUpdate",value:function(dt){}}]),Screen}()},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>MainMenuScreen});var _Screen__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(58),_input_InputCommandType__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(53),_input_InputDomainType__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(50),_ScreenType__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(56);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var MainMenuScreen=function(_Screen){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(MainMenuScreen,_Screen);var Constructor,protoProps,staticProps,_super=_createSuper(MainMenuScreen);function MainMenuScreen(){return _classCallCheck(this,MainMenuScreen),_super.apply(this,arguments)}return Constructor=MainMenuScreen,(protoProps=[{key:"onEnter",value:function(){this.game.commands.pushDomain(_input_InputDomainType__WEBPACK_IMPORTED_MODULE_2__.INPUT_DOMAIN_MAIN_MENU)}},{key:"onLeave",value:function(){this.game.commands.popDomain(_input_InputDomainType__WEBPACK_IMPORTED_MODULE_2__.INPUT_DOMAIN_MAIN_MENU)}},{key:"onInputCommand",value:function(cmd){cmd.type===_input_InputCommandType__WEBPACK_IMPORTED_MODULE_1__.INPUT_CMD_CONFIRM&&(this.game.state.newGame(),this.game.screens.setScreen(_ScreenType__WEBPACK_IMPORTED_MODULE_3__.SCREEN_ADVENTURE)),cmd.type===_input_InputCommandType__WEBPACK_IMPORTED_MODULE_1__.INPUT_CMD_SAVE&&this.game.state.saveGame(),cmd.type===_input_InputCommandType__WEBPACK_IMPORTED_MODULE_1__.INPUT_CMD_LOAD&&this.game.state.loadGame()}},{key:"onUpdate",value:function(dt){this.game.renderer.clear(),this.game.renderer.drawText(1,1,"Knossonia"),this.game.renderer.drawText(1,3,"press enter to embark"),this.game.renderer.drawText(1,7,"move [w, a, d, x]"),this.game.renderer.drawText(1,8,"save [ctrl+s]"),this.game.renderer.drawText(1,9,"load [ctrl+l]")}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),MainMenuScreen}(_Screen__WEBPACK_IMPORTED_MODULE_0__.default)},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>PlayerManager});var _Manager__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),_ai_GoalTypes__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(17),_ecs_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(10);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _classPrivateFieldSet(receiver,privateMap,value){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to set private field on non-instance");if(descriptor.set)descriptor.set.call(receiver,value);else{if(!descriptor.writable)throw new TypeError("attempted to set read only private field");descriptor.value=value}return value}function _classPrivateFieldGet(receiver,privateMap){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to get private field on non-instance");return descriptor.get?descriptor.get.call(receiver):descriptor.value}var _entityId=new WeakMap,PlayerManager=function(_Manager){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(PlayerManager,_Manager);var Constructor,protoProps,staticProps,_super=_createSuper(PlayerManager);function PlayerManager(){var _this;_classCallCheck(this,PlayerManager);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=_super.call.apply(_super,[this].concat(args)),_entityId.set(_assertThisInitialized(_this),{writable:!0,value:null}),_this}return Constructor=PlayerManager,(protoProps=[{key:"onNewGame",value:function(){var player=this.game.ecs.createPrefab("Player",{position:{x:16,y:16}});_classPrivateFieldSet(this,_entityId,player.id);for(var i=0;i<3;i++)this.game.ecs.createPrefab("HumanWanderer",{moniker:{name:"Wanderer ".concat(i)},position:{x:21+i,y:8}}).brain.pushGoal(_ai_GoalTypes__WEBPACK_IMPORTED_MODULE_1__.BoredGoalType.create())}},{key:"move",value:function(direction){this.isTurn&&(this.entity.has(_ecs_components__WEBPACK_IMPORTED_MODULE_2__.MoveCommand)&&this.entity.remove(_ecs_components__WEBPACK_IMPORTED_MODULE_2__.MoveCommand),this.entity.add(_ecs_components__WEBPACK_IMPORTED_MODULE_2__.MoveCommand,{direction}))}},{key:"wait",value:function(){var turns=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isTurn&&this.entity.fireEvent("energy-consumed",1e3*turns)}},{key:"onSaveGame",value:function(){return{playerEntityId:_classPrivateFieldGet(this,_entityId)}}},{key:"onLoadGame",value:function(data){_classPrivateFieldSet(this,_entityId,data.playerEntityId)}},{key:"entity",get:function(){return this.game.ecs.getEntity(_classPrivateFieldGet(this,_entityId))}},{key:"isTurn",get:function(){return this.entity.actor.hasEnergy}},{key:"x",get:function(){return this.entity.position.x}},{key:"y",get:function(){return this.entity.position.y}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),PlayerManager}(_Manager__WEBPACK_IMPORTED_MODULE_0__.default)},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>GameStateManager});var GameStateManager=function(_Manager){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(GameStateManager,_Manager);var Constructor,protoProps,staticProps,_super=_createSuper(GameStateManager);function GameStateManager(){return _classCallCheck(this,GameStateManager),_super.apply(this,arguments)}return Constructor=GameStateManager,(protoProps=[{key:"newGame",value:function(){console.log("NEW GAME"),this.game.clock.onNewGame(),this.game.engine.onNewGame(),this.game.player.onNewGame()}},{key:"saveGame",value:function(){var data=_objectSpread(_objectSpread(_objectSpread({},this.game.clock.onSaveGame()),this.game.player.onSaveGame()),this.game.engine.onSaveGame());console.log("SAVE GAME",data),localStorage.setItem("save",JSON.stringify(data))}},{key:"loadGame",value:function(){var data=JSON.parse(localStorage.getItem("save"));console.log("LOAD GAME",data),this.game.clock.onLoadGame(data),this.game.engine.onLoadGame(data),this.game.player.onLoadGame(data),this.game.screens.onLoadGame(data)}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),GameStateManager}(__webpack_require__(3).default)},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>ClockManager});var _Manager__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _classPrivateFieldSet(receiver,privateMap,value){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to set private field on non-instance");if(descriptor.set)descriptor.set.call(receiver,value);else{if(!descriptor.writable)throw new TypeError("attempted to set read only private field");descriptor.value=value}return value}function _classPrivateFieldGet(receiver,privateMap){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to get private field on non-instance");return descriptor.get?descriptor.get.call(receiver):descriptor.value}var _tick=new WeakMap,_tickDelta=new WeakMap,ClockManager=function(_Manager){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ClockManager,_Manager);var Constructor,protoProps,staticProps,_super=_createSuper(ClockManager);function ClockManager(){var _this;_classCallCheck(this,ClockManager);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=_super.call.apply(_super,[this].concat(args)),_tick.set(_assertThisInitialized(_this),{writable:!0,value:0}),_tickDelta.set(_assertThisInitialized(_this),{writable:!0,value:0}),_this}return Constructor=ClockManager,(protoProps=[{key:"incrementTick",value:function(delta){_classPrivateFieldSet(this,_tickDelta,delta),_classPrivateFieldSet(this,_tick,_classPrivateFieldGet(this,_tick)+delta)}},{key:"onNewGame",value:function(){}},{key:"onLoadGame",value:function(data){}},{key:"onSaveGame",value:function(){return{}}},{key:"tick",get:function(){return _classPrivateFieldGet(this,_tick)}},{key:"tickDelta",get:function(){return _classPrivateFieldGet(this,_tickDelta)}},{key:"turn",get:function(){return Math.floor(_classPrivateFieldGet(this,_tick)/1e3)}},{key:"subTurn",get:function(){return _classPrivateFieldGet(this,_tick)-1e3*this.turn}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),ClockManager}(_Manager__WEBPACK_IMPORTED_MODULE_0__.default)},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>CursorSystem});var _enums_Directions__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(32),_System__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(35);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _classPrivateFieldSet(receiver,privateMap,value){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to set private field on non-instance");if(descriptor.set)descriptor.set.call(receiver,value);else{if(!descriptor.writable)throw new TypeError("attempted to set read only private field");descriptor.value=value}return value}function _classPrivateFieldGet(receiver,privateMap){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to get private field on non-instance");return descriptor.get?descriptor.get.call(receiver):descriptor.value}var _isEnabled=new WeakMap,_x=new WeakMap,_y=new WeakMap,CursorSystem=function(_System){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(CursorSystem,_System);var Constructor,protoProps,staticProps,_super=_createSuper(CursorSystem);function CursorSystem(){var _this;_classCallCheck(this,CursorSystem);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=_super.call.apply(_super,[this].concat(args)),_isEnabled.set(_assertThisInitialized(_this),{writable:!0,value:!1}),_x.set(_assertThisInitialized(_this),{writable:!0,value:1}),_y.set(_assertThisInitialized(_this),{writable:!0,value:1}),_this}return Constructor=CursorSystem,(protoProps=[{key:"enable",value:function(){_classPrivateFieldSet(this,_x,this.game.player.x),_classPrivateFieldSet(this,_y,this.game.player.y),_classPrivateFieldSet(this,_isEnabled,!0)}},{key:"disable",value:function(){_classPrivateFieldSet(this,_isEnabled,!1)}},{key:"toggle",value:function(){this.isEnabled?this.disable():this.enable()}},{key:"move",value:function(direction){var delta=_enums_Directions__WEBPACK_IMPORTED_MODULE_0__.delta(direction);_classPrivateFieldSet(this,_x,_classPrivateFieldGet(this,_x)+delta.x),_classPrivateFieldSet(this,_y,_classPrivateFieldGet(this,_y)+delta.y)}},{key:"update",value:function(dt){_classPrivateFieldGet(this,_isEnabled)&&(console.log("draw!"),this.game.renderer.draw(_classPrivateFieldGet(this,_x),_classPrivateFieldGet(this,_y),"X","yellow"))}},{key:"x",get:function(){return _classPrivateFieldGet(this,_x)}},{key:"y",get:function(){return _classPrivateFieldGet(this,_y)}},{key:"isEnabled",get:function(){return _classPrivateFieldGet(this,_isEnabled)}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),CursorSystem}(_System__WEBPACK_IMPORTED_MODULE_1__.default)}],__webpack_module_cache__={};function __webpack_require__(moduleId){if(__webpack_module_cache__[moduleId])return __webpack_module_cache__[moduleId].exports;var module=__webpack_module_cache__[moduleId]={exports:{}};return __webpack_modules__[moduleId](module,module.exports,__webpack_require__),module.exports}__webpack_require__.t=function(value,mode){if(1&mode&&(value=this(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);var def={};if(2&mode&&"object"==typeof value&&value)for(const key in value)def[key]=()=>value[key];return def.default=()=>value,__webpack_require__.d(ns,def),ns},__webpack_require__.d=(exports,definition)=>{for(var key in definition)__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)&&Object.defineProperty(exports,key,{enumerable:!0,get:definition[key]})},__webpack_require__.o=(obj,prop)=>Object.prototype.hasOwnProperty.call(obj,prop),__webpack_require__.r=exports=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__(0)})();
//# sourceMappingURL=main.70ba361749ae1146035a.js.map